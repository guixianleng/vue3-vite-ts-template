var at=Object.defineProperty,ut=Object.defineProperties;var it=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var xe=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var Be=(e,t,n)=>t in e?at(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t)=>{for(var n in t||(t={}))xe.call(t,n)&&Be(e,n,t[n]);if(te)for(var n of te(t))Ae.call(t,n)&&Be(e,n,t[n]);return e},q=(e,t)=>ut(e,it(t));var Ie=(e,t)=>{var n={};for(var o in e)xe.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&te)for(var o of te(e))t.indexOf(o)<0&&Ae.call(e,o)&&(n[o]=e[o]);return n};var T=(e,t,n)=>new Promise((o,s)=>{var r=c=>{try{u(n.next(c))}catch(i){s(i)}},a=c=>{try{u(n.throw(c))}catch(i){s(i)}},u=c=>c.done?o(c.value):Promise.resolve(c.value).then(r,a);u((n=n.apply(e,t)).next())});import{d as de,a as ne,l as ct,c as lt,M as dt,m as pt,b as ft,e as S,o as v,f as C,_ as _t,g as ht,h as D,i as k,t as G,F as pe,r as fe,j as l,u as mt,k as y,n as d,w as f,S as $e,p as K,q as j,s as _e,B as he,v as gt,x as Le,y as vt,z as oe,A as yt,T as bt,C as Me,K as kt,I as Oe,D as J,E as se,G as I,H as me,J as Re,L as Ct,N as re,O as Et,P as Ft,Q as St,R as wt,U as Pe,V as qe,W as Tt,X as Dt,Y as xt,Z as At,$ as Bt,a0 as ge,a1 as ze,a2 as It,a3 as $t,a4 as Lt,a5 as Mt,a6 as Ot,a7 as Rt,a8 as je,a9 as Pt,aa as qt,ab as zt,ac as jt,ad as Ut,ae as Vt,af as Nt,ag as Ht,ah as Wt,ai as Gt,aj as Y,ak as Kt,al as Yt,am as Jt,an as Zt,ao as Ue,ap as Qt,aq as Xt,ar as en,as as tn,at as nn,au as on,av as sn}from"./vendor.c7239947.js";const rn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};rn();const an="light",un=!1,cn=!0,ln=!0,dn=!1,pn=!1,fn=40,_n=!0,hn="#165DFF",mn=220,gn=!1,vn="desktop",yn=!0,bn=!1;var kn={theme:an,colorWeek:un,navbar:cn,menu:ln,hideMenu:dn,menuCollapse:pn,collapsedWidth:fn,footer:_n,themeColor:hn,menuWidth:mn,globalSettings:gn,device:vn,tabBar:yn,breadcrumb:bn};const U=de("app",{state:()=>E({},kn),getters:{appCurrentSetting(e){return E({},e)},appDevice(e){return e.device}},actions:{updateSettings(e){this.$patch(e)},toggleTheme(e){e?(this.theme="dark",document.body.setAttribute("data-theme","dark")):(this.theme="light",document.body.removeAttribute("data-theme"))},toggleDevice(e){this.device=e},toggleMenu(e){this.hideMenu=e}}}),Cn=Object.prototype.toString;function Ve(e,t){return Cn.call(e)===`[object ${t}]`}function Ne(e){return e!==null&&Ve(e,"Object")}function V(e){return Ve(e,"String")}function M(e){return typeof e=="function"}function En(e){return e&&Array.isArray(e)}let z=new Map;const He=e=>[e.method,e.url].join("&");class Fn{addPending(t){this.removePending(t);const n=He(t);t.cancelToken=t.cancelToken||new ne.CancelToken(o=>{z.has(n)||z.set(n,o)})}removeAllPending(){z.forEach(t=>{t&&M(t)&&t()}),z.clear()}removePending(t){const n=He(t);if(z.has(n)){const o=z.get(n);o&&o(n),z.delete(n)}}reset(){z=new Map}}var ae;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR",e[e.TIMEOUT=401]="TIMEOUT",e.TYPE="success"})(ae||(ae={}));var ue;(function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"})(ue||(ue={}));var Z;(function(e){e.JSON="application/json;charset=UTF-8",e.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",e.FORM_DATA="multipart/form-data;charset=UTF-8"})(Z||(Z={}));class Sn{constructor(t){this.options=t,this.axiosInstance=ne.create(t),this.setupInterceptors()}createAxios(t){this.axiosInstance=ne.create(t)}getTransform(){const{transform:t}=this.options;return t}getAxios(){return this.axiosInstance}configAxios(t){!this.axiosInstance||this.createAxios(t)}setHeader(t){!this.axiosInstance||Object.assign(this.axiosInstance.defaults.headers,t)}setupInterceptors(){const t=this.getTransform();if(!t)return;const{requestInterceptors:n,requestInterceptorsCatch:o,responseInterceptors:s,responseInterceptorsCatch:r}=t,a=new Fn;this.axiosInstance.interceptors.request.use(u=>{var m;const{headers:{ignoreCancelToken:c}}=u;return!(c!==void 0?c:(m=this.options.requestOptions)==null?void 0:m.ignoreCancelToken)&&a.addPending(u),n&&M(n)&&(u=n(u,this.options)),u},void 0),o&&M(o)&&this.axiosInstance.interceptors.request.use(void 0,o),this.axiosInstance.interceptors.response.use(u=>(u&&a.removePending(u.config),s&&M(s)&&(u=s(u)),u),void 0),r&&M(r)&&this.axiosInstance.interceptors.response.use(void 0,r)}uploadFile(t,n){const o=new window.FormData,s=n.name||"file";return n.filename?o.append(s,n.file,n.filename):o.append(s,n.file),n.data&&Object.keys(n.data).forEach(r=>{const a=n.data[r];if(Array.isArray(a)){a.forEach(u=>{o.append(`${r}[]`,u)});return}o.append(r,n.data[r])}),this.axiosInstance.request(q(E({},t),{method:"POST",data:o,headers:{"Content-type":Z.FORM_DATA,ignoreCancelToken:!0}}))}supportFormData(t){var s;const n=t.headers||this.options.headers;return((n==null?void 0:n["Content-Type"])||(n==null?void 0:n["content-type"]))!==Z.FORM_URLENCODED||!Reflect.has(t,"data")||((s=t.method)==null?void 0:s.toUpperCase())===ue.GET?t:q(E({},t),{data:ct.stringify(t.data,{arrayFormat:"brackets"})})}get(t,n){return this.request(q(E({},t),{method:"GET"}),n)}post(t,n){return this.request(q(E({},t),{method:"POST"}),n)}put(t,n){return this.request(q(E({},t),{method:"PUT"}),n)}delete(t,n){return this.request(q(E({},t),{method:"DELETE"}),n)}request(t,n){let o=lt(t);const s=this.getTransform(),{requestOptions:r}=this.options,a=Object.assign({},r,n),{beforeRequestHook:u,requestCatchHook:c,transformRequestHook:i}=s||{};return u&&M(u)&&(o=u(o,a)),o.requestOptions=a,o=this.supportFormData(o),new Promise((m,p)=>{this.axiosInstance.request(o).then(_=>{if(i&&M(i)){try{const g=i(_,a);m(g)}catch(g){p(g||new Error("request error!"))}return}m(_)}).catch(_=>{if(c&&M(c)){p(c(_,a));return}ne.isAxiosError(_),p(_)})})}}function wn(e,t,n="message"){let o="";switch(e){case 400:o=`${t}`;break;case 401:o=t||"\u7528\u6237\u65E0\u6743\u9650";break;case 403:o="\u7528\u6237\u5F97\u5230\u6388\u6743\uFF0C\u4F46\u662F\u8BBF\u95EE\u662F\u88AB\u7981\u6B62\u7684\u3002!";break;case 404:o="\u7F51\u7EDC\u8BF7\u6C42\u9519\u8BEF,\u672A\u627E\u5230\u8BE5\u8D44\u6E90!";break;case 405:o="\u7F51\u7EDC\u8BF7\u6C42\u9519\u8BEF,\u8BF7\u6C42\u65B9\u6CD5\u672A\u5141\u8BB8!";break;case 408:o="\u7F51\u7EDC\u8BF7\u6C42\u8D85\u65F6!";break;case 500:o="\u670D\u52A1\u5668\u9519\u8BEF,\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458!";break;case 501:o="\u7F51\u7EDC\u672A\u5B9E\u73B0!";break;case 502:o="\u7F51\u7EDC\u9519\u8BEF!";break;case 503:o="\u670D\u52A1\u4E0D\u53EF\u7528\uFF0C\u670D\u52A1\u5668\u6682\u65F6\u8FC7\u8F7D\u6216\u7EF4\u62A4!";break;case 504:o="\u7F51\u7EDC\u8D85\u65F6!";break;case 505:o="http\u7248\u672C\u4E0D\u652F\u6301\u8BE5\u8BF7\u6C42!";break}o&&(n==="modal"?dt.error({title:"Confirm logout",content:"You have been logged out, you can cancel to stay on this page, or log in again",okText:"Re-Login",onOk(){return T(this,null,function*(){yield N().logout(),window.location.reload()})}}):n==="message"&&console.log(o))}function Tn(e,t){let n="";for(const o in t)n+=o+"="+encodeURIComponent(t[o])+"&";return n=n.replace(/&$/,""),/\?$/.test(e)?e+n:e.replace(/\/?$/,"?")+n}function We(e={},t={}){let n;for(n in t)e[n]=Ne(e[n])?We(e[n],t[n]):e[n]=t[n];return e}const ie="x-admin_token",Dn=()=>!!localStorage.getItem(ie),Ge=()=>localStorage.getItem(ie)||"",xn=e=>{localStorage.setItem(ie,e)},An=()=>{localStorage.removeItem(ie)},Bn="YYYY-MM-DD HH:mm:ss";function Ke(e,t=!1){if(!e)return t?"":{};const n=new Date().getTime();return t?`?_t=${n}`:{_t:n}}function ve(e){if(Object.prototype.toString.call(e)==="[object Object]")for(const t in e){if(e[t]&&e[t]._isAMomentObject&&(e[t]=e[t].format(Bn)),V(t)){const n=e[t];if(n)try{e[t]=V(n)?n.trim():n}catch(o){throw new Error("\u53C2\u6570\u9519\u8BEF")}}Ne(e[t])&&ve(e[t])}}const In={transformRequestHook:(e,t)=>{const{isTransformResponse:n,isReturnNativeResponse:o}=t;if(o)return e;if(!n)return e.data;const{data:s}=e;if(!s)throw new Error("\u8BF7\u6C42\u51FA\u9519\uFF0C\u8BF7\u7A0D\u5019\u91CD\u8BD5");const{code:r,result:a,message:u}=s;if(s&&Reflect.has(s,"code")&&r===ae.SUCCESS)return a;let i="";switch(r){case ae.TIMEOUT:i="\u63A5\u53E3\u8BF7\u6C42\u8D85\u65F6,\u8BF7\u5237\u65B0\u9875\u9762\u91CD\u8BD5!",N().logout();break;default:u&&(i=u)}if(t.errorMessageMode==="modal")debugger;else if(t.errorMessageMode==="message")debugger;throw new Error(i||"\u8BF7\u6C42\u51FA\u9519\uFF0C\u8BF7\u7A0D\u5019\u91CD\u8BD5")},beforeRequestHook:(e,t)=>{var m;const{apiUrl:n,joinPrefix:o,joinParamsToUrl:s,formatDate:r,joinTime:a=!0,urlPrefix:u}=t;o&&(e.url=`${u}${e.url}`),n&&V(n)&&(e.url=`${n}${e.url}`);const c=e.params||{},i=e.data||!1;return r&&i&&!V(i)&&ve(i),((m=e.method)==null?void 0:m.toUpperCase())===ue.GET?V(c)?(e.url=e.url+c+`${Ke(a,!0)}`,e.params=void 0):e.params=Object.assign(c||{},Ke(a,!1)):V(c)?(e.url=e.url+c,e.params=void 0):(r&&ve(c),Reflect.has(e,"data")&&e.data&&Object.keys(e.data).length>0?(e.data=i,e.params=c):(e.data=c,e.params=void 0),s&&(e.url=Tn(e.url,Object.assign({},e.params,e.data)))),e},requestInterceptors:(e,t)=>{var o;const n=Ge();return n&&((o=e==null?void 0:e.requestOptions)==null?void 0:o.withToken)!==!1&&(e.headers.Authorization=t.authenticationScheme?`${t.authenticationScheme} ${n}`:n),e},responseInterceptors:e=>e,responseInterceptorsCatch:e=>{var i,m,p,_,g,h,w;const{response:t,code:n,message:o,config:s}=e||{},r=((i=s==null?void 0:s.requestOptions)==null?void 0:i.errorMessageMode)||"none",a=(_=(p=(m=t==null?void 0:t.data)==null?void 0:m.error)==null?void 0:p.message)!=null?_:"",u=(h=(g=e==null?void 0:e.toString)==null?void 0:g.call(e))!=null?h:"";let c="";try{if(n==="ECONNABORTED"&&o.indexOf("timeout")!==-1&&(c="\u63A5\u53E3\u8BF7\u6C42\u8D85\u65F6,\u8BF7\u5237\u65B0\u9875\u9762\u91CD\u8BD5!"),(u==null?void 0:u.includes("Network Error"))&&(c="\u7F51\u7EDC\u5F02\u5E38\uFF0C\u8BF7\u68C0\u67E5\u60A8\u7684\u7F51\u7EDC\u8FDE\u63A5\u662F\u5426\u6B63\u5E38!"),c)return r==="modal"?console.log(r,"errorMessageMode"):r==="message"&&console.log(r,"errorMessageMode error"),Promise.reject(e)}catch(b){throw new Error(b)}return wn((w=e==null?void 0:e.response)==null?void 0:w.status,a,r),Promise.reject(e)}};function $n(e){return new Sn(We({authenticationScheme:"",timeout:10*1e3,headers:{"Content-Type":Z.JSON},transform:In,requestOptions:{joinPrefix:!0,isReturnNativeResponse:!1,isTransformResponse:!0,joinParamsToUrl:!1,formatDate:!0,errorMessageMode:"message",apiUrl:"",urlPrefix:"",joinTime:!0,ignoreCancelToken:!0,withToken:!0}},e||{}))}const ye=$n();var Q;(function(e){e.Login="/login",e.Logout="/logout",e.GetUserInfo="/getUserInfo",e.GetPermCode="/getPermCode"})(Q||(Q={}));function Ln(e,t="modal"){return ye.post({url:Q.Login,params:e},{errorMessageMode:t})}function Mn(){return ye.get({url:Q.GetUserInfo},{errorMessageMode:"none"})}function On(){return ye.get({url:Q.Logout})}const be=pt(),ke=Symbol("ROUTE_CHANGE");let Ce;function Rn(e){be.emit(ke,e),Ce=e}function Ye(e,t=!0){be.on(ke,e),t&&Ce&&e(Ce)}function Pn(){be.off(ke)}const N=de("user",{state:()=>({userInfo:null,token:void 0,role:"",lastUpdateTime:0}),getters:{getSysToken(){return this.token||Ge()}},actions:{setSysToken(e){this.token=e!=null?e:"",xn(e)},setRoleList(e){this.role=e},switchRoles(){return new Promise(e=>{this.role=this.role==="admin"?"test":"admin",e(this.role)})},setUserInfo(e){this.userInfo=e,this.lastUpdateTime=new Date().getTime()},resetInfo(){this.$reset()},login(e){return T(this,null,function*(){try{const t=Ie(e,[]),n=yield Ln(t),{token:o}=n;return this.setSysToken(o),this.getUserInfo()}catch(t){return Promise.reject(t)}})},getUserInfo(){return T(this,null,function*(){if(!this.getSysToken)return null;const e=yield Mn(),{roles:t=[]}=e;return En(t)&&t.length?this.setRoleList(t[0]):(e.roles=[],this.setRoleList("")),this.setUserInfo(e),e})},logout(){return T(this,null,function*(){yield On(),this.resetInfo(),An(),Pn()})}}}),qn=e=>{const{name:t,meta:n,fullPath:o,query:s}=e;return{title:n.locale||"",name:String(t),fullPath:o,query:s}},Je=de("tabBar",{state:()=>({cacheTabList:new Set,tagList:[{title:"\u5DE5\u4F5C\u53F0",name:"Workplace",fullPath:"/dashboard/workplace"}]}),getters:{getTabList(){return this.tagList},getCacheList(){return Array.from(this.cacheTabList)}},actions:{updateTabList(e){this.tagList.push(qn(e)),this.cacheTabList.add(e.name)},deleteTag(e,t){this.tagList.splice(e,1),this.cacheTabList.delete(t.name)}}}),zn=ft(),jn=S({props:{type:{type:String,default:""},name:{type:String,default:""},defaultValue:{type:[String,Boolean,Number],default:""}},emits:["inputChange"],setup(e,{emit:t}){const n=e,o=s=>{t("inputChange",{value:s,key:n.name})};return(s,r)=>{const a=_t,u=ht;return e.type==="number"?(v(),C(a,{key:0,style:{width:"80px"},size:"small",value:e.defaultValue,onChange:o},null,8,["value"])):(v(),C(u,{key:1,checked:e.defaultValue,size:"small",onChange:o},null,8,["checked"]))}}});var $=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n};const Un={class:"block"},Vn={class:"title"},Nn=S({props:{title:{type:String,default:""},options:{type:Array,default(){return[]}}},setup(e){const t=U(),n=({key:o,value:s})=>{s&&o==="colorWeek"&&(document.body.style.filter="invert(80%)"),!s&&o==="colorWeek"&&(document.body.style.filter="none"),t.updateSettings({[o]:s})};return(o,s)=>(v(),D("div",Un,[k("h5",Vn,G(e.title),1),(v(!0),D(pe,null,fe(e.options,r=>(v(),D("div",{key:r.name,class:"switch-wrapper"},[k("span",null,G(r.name),1),l(jn,{type:r.type||"switch",name:r.key,"default-value":r.defaultVal,onInputChange:n},null,8,["type","name","default-value"])]))),128))]))}});var Ze=$(Nn,[["__scopeId","data-v-34b16040"]]);const Hn=j("\u9875\u9762\u914D\u7F6E"),Wn=j("\u5173\u95ED"),Gn=j("\u590D\u5236\u914D\u7F6E"),Kn=S({emits:["cancel"],setup(e,{emit:t}){const n=U(),{copy:o}=mt(),s=y(()=>n.globalSettings),r=y(()=>[{name:"\u5BFC\u822A\u680F",key:"navbar",defaultVal:n.navbar},{name:"\u83DC\u5355\u680F",key:"menu",defaultVal:n.menu},{name:"\u5E95\u90E8",key:"footer",defaultVal:n.footer},{name:"\u591A\u9875\u7B7E",key:"tabBar",defaultVal:n.tabBar},{name:"\u663E\u793A Breadcrumbs",key:"breadcrumb",defaultVal:n.breadcrumb},{name:"\u83DC\u5355\u5BBD\u5EA6 (px)",key:"menuWidth",defaultVal:n.menuWidth,type:"number"}]),a=y(()=>[{name:"\u8272\u5F31\u6A21\u5F0F",key:"colorWeek",defaultVal:n.colorWeek}]),u=()=>{n.updateSettings({globalSettings:!1}),t("cancel")},c=()=>T(this,null,function*(){const m=JSON.stringify(n.$state,null,2);yield o(m),_e.success("\u590D\u5236\u6210\u529F\uFF0C\u8BF7\u7C98\u8D34\u5230 src/settings.json \u6587\u4EF6\u4E2D")}),i=()=>{n.updateSettings({globalSettings:!0})};return(m,p)=>{const _=he,g=gt,h=Le,w=vt;return v(),D(pe,null,[d(n).navbar?K("",!0):(v(),D("div",{key:0,class:"fixed-settings",onClick:i},[l(_,{type:"primary"},{icon:f(()=>[l(d($e))]),_:1})])),l(w,{width:300,visible:d(s),onClose:u,"footer-style":{textAlign:"right"}},{title:f(()=>[Hn]),footer:f(()=>[l(h,null,{default:f(()=>[l(_,{onClick:u},{default:f(()=>[Wn]),_:1}),l(_,{type:"primary",onClick:c},{default:f(()=>[Gn]),_:1})]),_:1})]),default:f(()=>[l(Ze,{options:d(r),title:"\u5185\u5BB9\u533A\u57DF"},null,8,["options"]),l(Ze,{options:d(a),title:"\u5176\u4ED6\u8BBE\u7F6E"},null,8,["options"]),l(g,{message:"\u914D\u7F6E\u4E4B\u540E\u4EC5\u662F\u4E34\u65F6\u751F\u6548\uFF0C\u8981\u60F3\u771F\u6B63\u4F5C\u7528\u4E8E\u9879\u76EE\uFF0C\u70B9\u51FB\u4E0B\u65B9\u7684 '\u590D\u5236\u914D\u7F6E' \u6309\u94AE\uFF0C\u5C06\u914D\u7F6E\u66FF\u6362\u5230 settings.json \u4E2D\u5373\u53EF\u3002",type:"info","show-icon":""})]),_:1},8,["visible"])],64)}}});var Yn=$(Kn,[["__scopeId","data-v-b89ef2f0"]]);const Jn=S({setup(e){return(t,n)=>{const o=oe("router-view"),s=yt;return v(),C(s,null,{default:f(()=>[l(o),l(Yn)]),_:1})}}});const Zn=S({setup(e){const t=Je(),n=y(()=>t.getCacheList);return(o,s)=>{const r=oe("router-view");return v(),C(r,null,{default:f(()=>[l(r,null,{default:f(({Component:a,route:u})=>[l(bt,{name:"fade",mode:"out-in",appear:""},{default:f(()=>[u.meta.ignoreCache?(v(),C(Me(a),{key:u.fullPath})):(v(),C(kt,{key:1,include:d(n)},[(v(),C(Me(a),{key:u.fullPath}))],1032,["include"]))]),_:2},1024)]),_:1})]),_:1})}}}),Qe=Oe.default||Oe,Qn=JSON.parse('[{"prefix":"ri","width":24,"height":24,"icons":{"moon-fill":{"body":"<path fill=\\"currentColor\\" d=\\"M11.38 2.019a7.5 7.5 0 1 0 10.6 10.6C21.662 17.854 17.316 22 12.001 22C6.477 22 2 17.523 2 12c0-5.315 4.146-9.661 9.38-9.981z\\"/>"},"sun-fill":{"body":"<path fill=\\"currentColor\\" d=\\"M12 18a6 6 0 1 1 0-12a6 6 0 0 1 0 12zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636L5.636 7.05L3.515 4.93zM16.95 18.364l1.414-1.414l2.121 2.121l-1.414 1.414l-2.121-2.121zm2.121-14.85l1.414 1.415l-2.121 2.121l-1.414-1.414l2.121-2.121zM5.636 16.95l1.414 1.414l-2.121 2.121l-1.414-1.414l2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z\\"/>"}}},{"prefix":"mi","width":24,"height":24,"icons":{"notification":{"body":"<path fill=\\"currentColor\\" d=\\"M10.146 3.248a2 2 0 0 1 3.708 0A7.003 7.003 0 0 1 19 10v4.697l1.832 2.748A1 1 0 0 1 20 19h-4.535a3.501 3.501 0 0 1-6.93 0H4a1 1 0 0 1-.832-1.555L5 14.697V10c0-3.224 2.18-5.94 5.146-6.752zM10.586 19a1.5 1.5 0 0 0 2.829 0h-2.83zM12 5a5 5 0 0 0-5 5v5a1 1 0 0 1-.168.555L5.869 17H18.13l-.963-1.445A1 1 0 0 1 17 15v-5a5 5 0 0 0-5-5z\\"/>"}}},{"prefix":"ic","width":24,"height":24,"icons":{"outline-close":{"body":"<path fill=\\"currentColor\\" d=\\"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z\\"/>"}}},{"prefix":"mdi","width":24,"height":24,"icons":{"monitor-dashboard":{"body":"<path fill=\\"currentColor\\" d=\\"M21 16V4H3v12h18m0-14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-7v2h2v2H8v-2h2v-2H3a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2h18M5 6h9v5H5V6m10 0h4v2h-4V6m4 3v5h-4V9h4M5 12h4v2H5v-2m5 0h4v2h-4v-2Z\\"/>"}}},{"prefix":"ant-design","width":1024,"height":1024,"icons":{"check-circle-outlined":{"body":"<path fill=\\"currentColor\\" d=\\"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0 0 51.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z\\"/><path fill=\\"currentColor\\" d=\\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448s448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372s372 166.6 372 372s-166.6 372-372 372z\\"/>"}}},{"prefix":"et","width":32,"height":32,"icons":{}},{"prefix":"ps","width":512,"height":512,"icons":{}},{"prefix":"ls","width":717,"height":717,"icons":{"n":{"body":"<path fill=\\"currentColor\\" d=\\"M72 128v64c42-40 109-64 171-64s109 24 151 64c44 42 72 102 72 168v294h-72V356c-2-87-64-157-151-157c-88 0-169 70-171 157v298H0V128h72z\\"/>","width":466,"height":654}}},{"prefix":"ion","width":512,"height":512,"icons":{}},{"prefix":"el","width":1200,"height":1200,"icons":{}},{"prefix":"ep","width":1024,"height":1024,"icons":{}},{"prefix":"fe","width":24,"height":24,"icons":{}},{"prefix":"il","width":750,"height":850,"icons":{}},{"prefix":"la","width":32,"height":32,"icons":{}},{"prefix":"map","width":50,"height":50,"icons":{}},{"prefix":"ph","width":256,"height":256,"icons":{"function":{"body":"<path fill=\\"currentColor\\" d=\\"M208 40a8 8 0 0 1-8 8h-29.3a24 24 0 0 0-23.6 19.7l-9.5 52.3H184a8 8 0 0 1 0 16h-49.3l-10.1 55.2A39.9 39.9 0 0 1 85.3 224H56a8 8 0 0 1 0-16h29.3a24 24 0 0 0 23.6-19.7l9.5-52.3H72a8 8 0 0 1 0-16h49.3l10.1-55.2A39.9 39.9 0 0 1 170.7 32H200a8 8 0 0 1 8 8Z\\"/>"}}}]');Qn.forEach(e=>Qe.addCollection(e));const Xn=["xlink:href"],eo=S({props:{prefix:{type:String,default:"icon"},name:{type:String,required:!0},size:{type:[Number,String],default:16},spin:{type:Boolean,default:!1}},setup(e){const t=e,n=y(()=>`#${t.prefix}-${t.name}`),o=y(()=>{const{size:s}=t;let r=`${s}`;return r=`${r.replace("px","")}px`,{width:r,height:r}});return(s,r)=>(v(),D("svg",{class:J([s.$attrs.class,e.spin&&"svg-icon-spin"]),style:se(d(o)),"aria-hidden":"true"},[k("use",{"xlink:href":d(n)},null,8,Xn)],6))}});var to=$(eo,[["__scopeId","data-v-1949253c"]]);const X=S({props:{icon:{type:String,default:""},color:{type:String,default:""},size:{type:[String,Number],default:16},spin:{type:Boolean,default:!1},prefix:{type:String,default:""}},setup(e){const t=e,n="|svg",o=I(null),s=y(()=>{var i;return(i=t.icon)==null?void 0:i.endsWith(n)}),r=y(()=>t.icon.replace(n,"")),a=y(()=>`${t.prefix?t.prefix+":":""}${t.icon}`),u=()=>T(this,null,function*(){if(d(s))return;const i=d(o);if(!i)return;yield Ct();const m=d(a);if(!m)return;const p=Qe.renderSVG(m,{});if(p)i.textContent="",i.appendChild(p);else{const _=document.createElement("span");_.className="iconify",_.dataset.icon=m,i.textContent="",i.appendChild(_)}}),c=y(()=>{const{size:i,color:m}=t;let p=i;return V(i)&&(p=parseInt(i,10)),{fontSize:`${p}px`,color:m,display:"inline-flex"}});return me(()=>t.icon,u,{flush:"post"}),Re(u),(i,m)=>d(s)?(v(),C(to,{key:0,size:e.size,name:d(r),class:J([i.$attrs.class,"anticon"]),spin:e.spin},null,8,["size","name","class","spin"])):(v(),D("span",{key:1,ref_key:"elRef",ref:o,class:J([i.$attrs.class,"app-iconify anticon",e.spin&&"app-iconify-spin"]),style:se(d(c))},null,6))}});function no(){const e=re(),t=N();return{logout:o=>T(this,null,function*(){yield t.logout();const s=e.currentRoute.value;_e.success("\u767B\u51FA\u6210\u529F"),e.push({name:o&&typeof o=="string"?o:"login",query:q(E({},e.currentRoute.value.query),{redirect:s.name})})})}}const Ee=e=>(Pe("data-v-351c953a"),e=e(),qe(),e),oo={class:"navbar"},so={class:"left-side"},ro=Ee(()=>k("img",{alt:"logo",src:"//p3-armor.byteimg.com/tos-cn-i-49unhts6dw/dfdba5317c0c20ce20e64fac803d52bc.svg~tplv-49unhts6dw-image.image"},null,-1)),ao=j("Vue3 admin"),uo={class:"right-side"},io={class:"message-box-trigger"},co=["src"],lo=Ee(()=>k("span",null,"\u5207\u6362\u89D2\u8272",-1)),po=Ee(()=>k("span",null,"\u9000\u51FA\u767B\u5F55",-1)),fo=S({setup(e){const t=U(),n=N(),{logout:o}=no(),s=y(()=>{var g;return((g=n.userInfo)==null?void 0:g.avatar)||"https://joeschmoe.io/api/v1/random"}),r=y(()=>t.theme),a=Et({selector:"body",attribute:"data-theme",valueDark:"dark",valueLight:"light",storageKey:"data-theme",onChanged(g){t.toggleTheme(g)}}),u=Ft(a),c=()=>{t.updateSettings({globalSettings:!0})},i=I(),m=()=>{const g=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});i.value.dispatchEvent(g)},p=()=>{o()},_=()=>T(this,null,function*(){const g=yield n.switchRoles();_e.success(g)});return(g,h)=>{const w=Tt,b=Le,x=he,F=Dt,A=xt,L=At,W=Bt,B=ge,R=ze,P=It;return v(),D("div",oo,[k("div",so,[l(b,null,{default:f(()=>[ro,l(w,{style:{margin:0,fontSize:"18px"},heading:5},{default:f(()=>[ao]),_:1})]),_:1})]),k("ul",uo,[k("li",null,[l(F,{content:d(r)==="light"?"\u70B9\u51FB\u5207\u6362\u4E3A\u6697\u9ED1\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u4E3A\u4EAE\u8272\u6A21\u5F0F"},{default:f(()=>[l(x,{class:"nav-btn",type:"outline",shape:"circle",onClick:d(u)},{icon:f(()=>[d(r)==="dark"?(v(),C(d(X),{key:0,icon:"ri:moon-fill"})):(v(),C(d(X),{key:1,icon:"ri:sun-fill"}))]),_:1},8,["onClick"])]),_:1},8,["content"])]),k("li",null,[l(F,{content:"\u6D88\u606F\u901A\u77E5"},{default:f(()=>[k("div",io,[l(A,{count:9,dot:""},{default:f(()=>[l(x,{class:"nav-btn",type:"outline",shape:"circle",onClick:m},{icon:f(()=>[l(d(X),{icon:"mi:notification"})]),_:1})]),_:1})])]),_:1}),l(L,{trigger:"click","arrow-style":{display:"none"},"content-style":{padding:0,minWidth:"400px"},"content-class":"message-popover"},{content:f(()=>[]),default:f(()=>[k("div",{ref_key:"refBtn",ref:i,class:"ref-btn"},null,512)]),_:1})]),k("li",null,[l(F,{content:"\u9875\u9762\u914D\u7F6E"},{default:f(()=>[l(x,{class:"nav-btn",type:"outline",shape:"circle",onClick:c},{icon:f(()=>[l(d($e))]),_:1})]),_:1})]),k("li",null,[l(P,{trigger:["click"]},{overlay:f(()=>[l(R,null,{default:f(()=>[l(B,{key:"0"},{default:f(()=>[l(b,{onClick:_},{default:f(()=>[l(d(St)),lo]),_:1})]),_:1}),l(B,{key:"1"},{default:f(()=>[l(b,{onClick:p},{default:f(()=>[l(d(wt)),po]),_:1})]),_:1})]),_:1})]),default:f(()=>[l(W,{size:32,style:{marginRight:"8px",cursor:"pointer"}},{default:f(()=>[k("img",{alt:"avatar",src:d(s)},null,8,co)]),_:1})]),_:1})])])])}}});var _o=$(fo,[["__scopeId","data-v-351c953a"]]);function Fe(){const e=N();return{accessRouter(t){var n,o,s,r,a,u;return!((n=t.meta)==null?void 0:n.requiresAuth)||!((o=t.meta)==null?void 0:o.roles)||((r=(s=t.meta)==null?void 0:s.roles)==null?void 0:r.includes("*"))||((u=(a=t.meta)==null?void 0:a.roles)==null?void 0:u.includes(e.role))},findFirstPermissionRoute(t,n="admin"){var s,r;const o=[...t];for(;o.length;){const a=o.shift();if((r=(s=a==null?void 0:a.meta)==null?void 0:s.roles)==null?void 0:r.find(u=>u.includes("*")||u.includes(n)))return{name:a.name};(a==null?void 0:a.children)&&o.push(...a.children)}return null}}}function ho(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!$t(e)}var mo=S({emit:["collapse"],setup(){const e=U(),t=Fe(),n=re(),o=y({get(){return e.device==="desktop"?e.menuCollapse:!1},set(p){e.updateSettings({menuCollapse:p})}}),s=y(()=>n.getRoutes().find(p=>p.name==="root")),r=y(()=>{const p=JSON.parse(JSON.stringify(s.value.children));p.sort((g,h)=>(g.meta.order||0)-(h.meta.order||0));function _(g,h){return g?g.map(b=>{var F;if(!t.accessRouter(b))return null;if(!b.children)return b;b.children=b.children.filter(A=>{var L;return((L=A.meta)==null?void 0:L.hideInMenu)!==!0});const x=_(b.children,h);return x.length||h>1?(b.children=x,b):((F=b.meta)==null?void 0:F.hideInMenu)===!1?b:null}).filter(Boolean):null}return _(p,0)}),a=I([]),u=I([]),c=p=>{n.push({name:p.name})};Ye(p=>{var _,g;if(p.meta.requiresAuth&&!p.meta.hideInMenu){const h=(_=p.matched[2])==null?void 0:_.name;a.value=[h];const w=(g=p.matched[1])==null?void 0:g.name;u.value=[w]}},!0);const i=p=>{e.device==="desktop"&&e.updateSettings({menuCollapse:p})},m=()=>{function p(_,g=[]){return _&&_.forEach(h=>{var L,W,B;const w=((L=h==null?void 0:h.meta)==null?void 0:L.icon)?l(X,{icon:(W=h==null?void 0:h.meta)==null?void 0:W.icon},null):"",b={icon:()=>w},x=l(Lt,{key:h==null?void 0:h.name,title:(B=h==null?void 0:h.meta)==null?void 0:B.locale},E({default:()=>{var R;return[(R=h==null?void 0:h.children)==null?void 0:R.map(P=>l(ge,{key:P.name,onClick:()=>c(P)},{default:()=>{var Te,De;return[((Te=P==null?void 0:P.meta)==null?void 0:Te.locale)||"",p((De=P.children)!=null?De:[])]}}))]}},b)),F=l(ge,{key:h==null?void 0:h.name,onClick:()=>c(h)},E({default:()=>{var R;return[((R=h==null?void 0:h.meta)==null?void 0:R.locale)||""]}},b)),A=(h==null?void 0:h.children)?x:F;g.push(A)}),g}return p(r.value)};return()=>{let p;return l(ze,{collapsed:o.value,"onUpdate:collapsed":_=>o.value=_,"show-collapse-button":e.device!=="mobile",selectedKeys:a.value,"onUpdate:selectedKeys":_=>a.value=_,style:"height: 100%",onCollapse:i,mode:"inline","open-keys":u.value,"onUpdate:open-keys":_=>u.value=_},ho(p=m())?p:{default:()=>[p]})}}});const go={},vo=j("Ant Design Vue Admin \xA92022 Created by LenGxin");function yo(e,t){const n=Mt;return v(),C(n,{class:"footer"},{default:f(()=>[vo]),_:1})}var bo=$(go,[["render",yo],["__scopeId","data-v-3a8bb8f2"]]);const ko=e=>(Pe("data-v-2215b77b"),e=e(),qe(),e),Co={class:"tab-bar-container"},Eo={class:"tab-bar-box"},Fo={class:"tab-bar-scroll"},So={class:"tags-wrap"},wo=["onClick"],To={class:"tag-link"},Do=["onClick"],xo=ko(()=>k("div",{class:"tag-bar-operation"},null,-1)),Ao=S({setup(e){const t=U(),n=Je(),o=re(),s=I(),r=y(()=>n.getTabList),a=y(()=>t.navbar?60:0);me(()=>t.navbar,()=>{s.value.updatePosition()}),Ye(i=>{!i.meta.noAffix&&!r.value.some(m=>m.fullPath===i.fullPath)&&n.updateTabList(i)},!0);const u=(i,m)=>{if(n.deleteTag(m,i),m===r.value.length){const p=r.value[r.value.length-1];o.push({name:p.name})}},c=i=>{o.push(E({},i))};return(i,m)=>{const p=Rt;return v(),D("div",Co,[l(p,{ref_key:"affixRef",ref:s,"offset-top":d(a)},{default:f(()=>[k("div",Eo,[k("div",Fo,[k("div",So,[(v(!0),D(pe,null,fe(d(r),(_,g)=>(v(),D("span",{key:_.fullPath,class:J(["ant-tag ant-tag-checked",{"link-actived":_.fullPath===i.$route.fullPath}]),onClick:h=>c(_)},[k("span",To,G(_.title),1),k("span",{class:"ant-icon-hover ant-tag-icon-hover ant-icon-hover-size-medium ant-tag-close-btn",onClick:Ot(h=>u(_,g),["stop"])},[l(d(X),{icon:"ic:outline-close",size:"14"})],8,Do)],10,wo))),128))])]),xo])]),_:1},8,["offset-top"])])}}});var Bo=$(Ao,[["__scopeId","data-v-2215b77b"]]);const Io={key:0},$o=S({setup(e){const t=je(),n=y(()=>{const o=t.path.split("/");return o.shift(),o.reduce((r,a,u)=>(r.push({path:a,to:r[u-1]?`/${r[u-1].path}/${a}`:`/${a}`,title:t.matched[u+1].meta.locale||a}),r),[])});return(o,s)=>{const r=oe("router-link"),a=Pt;return v(),C(a,{class:"td-breadcrumb",routes:d(n)},{itemRender:f(({route:u,paths:c})=>[d(n).indexOf(u)===d(n).length-1?(v(),D("span",Io,G(u.title),1)):(v(),C(r,{key:1,to:`${c.length>1?`${c.join("/")}`:""}`},{default:f(()=>[j(G(u.title),1)]),_:2},1032,["to"]))]),_:1},8,["routes"])}}});var Lo=$($o,[["__scopeId","data-v-066a39a1"]]);function Mo(e,t,n,o=!1){e.addEventListener&&typeof e.addEventListener=="function"&&e.addEventListener(t,n,o)}function Oo(e,t,n,o=!1){e.removeEventListener&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n,o)}const Ro=992;function Po(){return document.body.getBoundingClientRect().width-1<Ro}function qo(e){const t=U();function n(){if(!document.hidden){const s=Po();t.toggleDevice(s?"mobile":"desktop"),t.toggleMenu(s)}}const o=jt(n,100);Re(()=>{e&&o()}),qt(()=>{Mo(window,"resize",o)}),zt(()=>{Oo(window,"resize",o)})}const zo={key:0,class:"layout-navbar"},jo=S({setup(e){const t=U(),n=N(),o=re(),s=je(),r=Fe();qo(!0);const a="60px",u=y(()=>t.navbar),c=y(()=>t.menu),i=y(()=>t.hideMenu),m=y(()=>t.footer),p=y(()=>t.menuCollapse?48:t.menuWidth),_=y(()=>t.theme),g=y(()=>t.menuCollapse),h=y(()=>t.breadcrumb),w=y(()=>{const F=c.value&&!i.value?{paddingLeft:`${p.value}px`}:{},A=u.value?{paddingTop:a}:{};return E(E({},F),A)}),b=F=>{t.updateSettings({menuCollapse:F})};me(()=>n.role,F=>{F&&!r.accessRouter(s)&&o.push({name:"notFound"})});const x=I([]);return(F,A)=>{const L=Wt,W=Gt,B=Ut;return v(),C(B,{class:J(["layout",{mobile:d(t).hideMenu}])},{default:f(()=>[d(u)?(v(),D("div",zo,[l(_o)])):K("",!0),l(B,null,{default:f(()=>[l(B,null,{default:f(()=>[d(c)?Vt((v(),C(L,{key:0,class:"layout-sider",breakpoint:"xl",collapsed:d(g),collapsible:"",width:d(p),"collapsed-width":"50",theme:d(_),style:se({paddingTop:d(u)?"60px":""}),trigger:null,onCollapse:b},{default:f(()=>[l(mo),l(d(Ht),{onClick:A[0]||(A[0]=R=>b(!d(g))),class:"trigger-collapse"})]),_:1},8,["collapsed","width","theme","style"])),[[Nt,!d(i)]]):K("",!0),l(B,{class:"layout-content",style:se(d(w))},{default:f(()=>[d(t).tabBar?(v(),C(Bo,{key:0})):K("",!0),l(W,null,{default:f(()=>[d(h)?(v(),C(Lo,{key:0,items:x.value},null,8,["items"])):K("",!0),l(Zn)]),_:1}),d(m)?(v(),C(bo,{key:1})):K("",!0)]),_:1},8,["style"])]),_:1})]),_:1})]),_:1},8,["class"])}}});var Uo=$(jo,[["__scopeId","data-v-54f5d21a"]]);const Vo="modulepreload",Xe={},No="/",O=function(t,n){return!n||n.length===0?t():Promise.all(n.map(o=>{if(o=`${No}${o}`,o in Xe)return;Xe[o]=!0;const s=o.endsWith(".css"),r=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${r}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":Vo,s||(a.as="script",a.crossOrigin=""),a.href=o,document.head.appendChild(a),s)return new Promise((u,c)=>{a.addEventListener("load",u),a.addEventListener("error",c)})})).then(()=>t())};var Ho={path:"dashboard",name:"Dashboard",component:()=>O(()=>import("./index.b55cd93b.js"),["assets/index.b55cd93b.js","assets/index.7f8ee78a.css","assets/index.a18cc309.css","assets/vendor.c7239947.js","assets/vendor.0fcec1a5.css"]),meta:{locale:"\u4EEA\u8868\u76D8",icon:"mdi:monitor-dashboard",requiresAuth:!0,roles:["*"]},children:[{path:"workplace",name:"Workplace",component:()=>O(()=>import("./index.b55cd93b.js"),["assets/index.b55cd93b.js","assets/index.7f8ee78a.css","assets/index.a18cc309.css","assets/vendor.c7239947.js","assets/vendor.0fcec1a5.css"]),meta:{locale:"\u5DE5\u4F5C\u53F0",requiresAuth:!0,roles:["*"]}}]},Wo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ho}),et={path:"/login",name:"login",component:()=>O(()=>import("./index.79786a05.js"),["assets/index.79786a05.js","assets/index.a84364da.css","assets/index.a18cc309.css","assets/vendor.c7239947.js","assets/vendor.0fcec1a5.css"]),meta:{requiresAuth:!1}},Go=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:et}),Ko={path:"result",name:"result",component:()=>O(()=>import("./index.653d75f2.js"),["assets/index.653d75f2.js","assets/vendor.c7239947.js","assets/vendor.0fcec1a5.css"]),meta:{locale:"\u7ED3\u679C\u9875",requiresAuth:!0,icon:"ant-design:check-circle-outlined",order:6},children:[{path:"403",name:"403",component:()=>O(()=>import("./index.94526c44.js"),["assets/index.94526c44.js","assets/index.6264fc86.css","assets/index.f3516be5.css","assets/vendor.c7239947.js","assets/vendor.0fcec1a5.css"]),meta:{locale:"403",requiresAuth:!0,roles:["admin"]}},{path:"404",name:"404",component:()=>O(()=>import("./index.6e386d52.js"),["assets/index.6e386d52.js","assets/index.f426f9fe.css","assets/index.f3516be5.css","assets/vendor.c7239947.js","assets/vendor.0fcec1a5.css"]),meta:{locale:"404",requiresAuth:!0,roles:["*"]}},{path:"500",name:"500",component:()=>O(()=>import("./index.310312fa.js"),["assets/index.310312fa.js","assets/index.8f0a168e.css","assets/index.f3516be5.css","assets/vendor.c7239947.js","assets/vendor.0fcec1a5.css"]),meta:{locale:"500",requiresAuth:!0,roles:["*"]}},{path:"success",name:"Success",component:()=>O(()=>import("./index.7977528e.js"),["assets/index.7977528e.js","assets/index.f3516be5.css","assets/vendor.c7239947.js","assets/vendor.0fcec1a5.css"]),meta:{locale:"\u6210\u529F\u9875",requiresAuth:!0,roles:["*"]}},{path:"fail",name:"Fail",component:()=>O(()=>import("./index.c1bad73e.js"),["assets/index.c1bad73e.js","assets/index.db4fede8.css","assets/index.f3516be5.css","assets/vendor.c7239947.js","assets/vendor.0fcec1a5.css"]),meta:{locale:"\u5931\u8D25\u9875",requiresAuth:!0,roles:["*"]}}]},Yo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ko});const tt={"./modules/dashboard.ts":Wo,"./modules/login.ts":Go,"./modules/result.ts":Yo},Se=[];Object.keys(tt).forEach(e=>{const t=tt[e].default;if(!t||t.name==="login")return;const n=Array.isArray(t)?[...t]:[t];Se.push(...n)});function Jo(e){e.beforeEach((t,n,o)=>T(this,null,function*(){Y.start();const s=N();function r(){return T(this,null,function*(){const a=Fe();if(a.accessRouter(t))o();else{const u=a.findFirstPermissionRoute(Se,s.role)||{name:"notFound"};o(u)}Y.done()})}if(Dn())if(s.role)r();else try{yield s.getUserInfo(),r()}catch(a){o({name:"login",query:E({redirect:t.name},t.query)}),Y.done()}else{if(t.name==="login"){o(),Y.done();return}o({name:"login",query:E({redirect:t.name},t.query)}),Y.done()}}))}function Zo(e){e.beforeEach(t=>T(this,null,function*(){Rn(t)}))}function Qo(e){Zo(e),Jo(e)}Y.configure({showSpinner:!1});const nt=Kt({history:Yt(),routes:[{path:"/",redirect:"login"},et,{name:"root",path:"/",component:Uo,children:Se},{path:"/:pathMatch(.*)*",name:"notFound",redirect:"/exception/404"}],scrollBehavior(){return{top:0}}});Qo(nt);if(typeof window!="undefined"){let e=function(){var t=document.body,n=document.getElementById("__svg__icons__dom__");n||(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),n.style.position="absolute",n.style.width="0",n.style.height="0",n.id="__svg__icons__dom__",n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),n.innerHTML="",t.insertBefore(n,t.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}function Xo(e){const t=I(e),n=I(!1);let o;function s(){o&&window.clearInterval(o)}function r(){n.value=!1,s(),o=null}function a(){d(n)||!!o||(n.value=!0,o=setInterval(()=>{d(t)===1?(r(),t.value=e):t.value-=1},1e3))}function u(){t.value=e,r()}function c(){u(),a()}return Jt(()=>{u()}),{start:a,reset:u,restart:c,clear:s,stop:r,currentCount:t,isStart:n}}const es={count:{type:Number,default:60},beforeStartFunc:{type:Function,default:null}},ts=S({name:"CountButton",props:es,setup(e){const t=I(!1),{currentCount:n,isStart:o,start:s,reset:r}=Xo(e.count),a=y(()=>d(o)?`${d(n)}\u79D2\u540E\u91CD\u65B0\u83B7\u53D6`:"\u83B7\u53D6\u9A8C\u8BC1\u7801");Zt(()=>{e.count===0&&r()});function u(){return T(this,null,function*(){const{beforeStartFunc:c}=e;if(c&&M(c)){t.value=!0;try{(yield c())&&s()}finally{t.value=!1}}else s()})}return{handleStart:u,currentCount:n,loading:t,getButtonText:a,isStart:o}}});function ns(e,t,n,o,s,r){const a=he;return v(),C(a,Ue(e.$attrs,{disabled:e.isStart,onClick:e.handleStart,loading:e.loading}),{default:f(()=>[j(G(e.getButtonText),1)]),_:1},16,["disabled","onClick","loading"])}var os=$(ts,[["render",ns]]);const ss={size:{type:String,validator:e=>["default","large","small"].includes(e)},count:{type:Number,default:60},sendCodeApi:{type:Function,default:null}},rs=S({name:"CountDownInput",components:{CountButton:os},inheritAttrs:!1,props:ss,setup(e,{emit:t}){const n=I("vAdmin-countdown-input");return t("input",e.count),{prefixCls:n}}});function as(e,t,n,o,s,r){const a=oe("CountButton"),u=Xt;return v(),C(u,Ue(e.$attrs,{class:e.prefixCls,size:e.size}),Qt({addonAfter:f(()=>[l(a,{size:e.size,count:e.count,beforeStartFunc:e.sendCodeApi},null,8,["size","count","beforeStartFunc"])]),_:2},[fe(Object.keys(e.$slots).filter(c=>c!=="addonAfter"),c=>({name:c,fn:f(i=>[en(e.$slots,c,tn(nn(i||{})))])}))]),1040,["class","size"])}var ot=$(rs,[["render",as]]);const us=[ot];function is(e){us.forEach(t=>{e.component((t==null?void 0:t.name)||(t==null?void 0:t.displayName),t)}),e.component("CountdownInput",ot)}function ce(e,{message:t="ok"}={}){return{code:0,result:e,message:t,type:"success"}}function H(e="Request failed",{code:t=-1,result:n=null}={}){return{code:t,result:n,message:e,type:"error"}}function we({headers:e}){return e==null?void 0:e.authorization}function ee(){return[{userId:"1",username:"admin",realName:"Super Admin",avatar:"https://q1.qlogo.cn/g?b=qq&nk=190848757&s=640",desc:"manager",password:"123456",token:"fakeToken1",homePath:"/dashboard",roles:["admin"]},{userId:"2",username:"test",password:"123456",realName:"test user",avatar:"https://q1.qlogo.cn/g?b=qq&nk=339449197&s=640",desc:"tester",token:"fakeToken2",homePath:"/dashboard",roles:["test"]}]}const cs={"1":["1000","3000","5000"],"2":["2000","4000","6000"]};var ls=[{url:"/basic-api/login",timeout:200,method:"post",response:({body:e})=>{const{username:t,password:n}=e,o=ee().find(m=>m.username===t&&n===m.password);if(!o)return H("Incorrect account or password\uFF01");const{userId:s,username:r,token:a,realName:u,desc:c,roles:i}=o;return ce({roles:i,userId:s,username:r,token:a,realName:u,desc:c})}},{url:"/basic-api/getUserInfo",method:"get",response:e=>{const t=we(e);if(!t)return H("Invalid token");const n=ee().find(o=>o.token===t);return n?ce(n):H("The corresponding user information was not obtained!")}},{url:"/basic-api/getPermCode",timeout:200,method:"get",response:e=>{const t=we(e);if(!t)return H("Invalid token");const n=ee().find(s=>s.token===t);if(!n)return H("Invalid token!");const o=cs[n.userId];return ce(o)}},{url:"/basic-api/logout",timeout:200,method:"get",response:e=>{const t=we(e);return t?ee().find(o=>o.token===t)?ce(void 0,{message:"Token has been destroyed"}):H("Invalid token!"):H("Invalid token")}}],ds=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",createFakeUserList:ee,default:ls});const st={"./modules/user.ts":ds},rt=[];Object.keys(st).forEach(e=>{e.includes("/_")||rt.push(...st[e].default)});function ps(){on(rt)}const le=sn(Jn);is(le);le.use(nt);le.use(zn);le.mount("#app");ps();export{ot as C,bo as F,$ as _,N as u};
