var ut=Object.defineProperty,it=Object.defineProperties;var ct=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var we=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var De=(e,t,n)=>t in e?ut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C=(e,t)=>{for(var n in t||(t={}))we.call(t,n)&&De(e,n,t[n]);if(te)for(var n of te(t))Be.call(t,n)&&De(e,n,t[n]);return e},U=(e,t)=>it(e,ct(t));var Oe=(e,t)=>{var n={};for(var o in e)we.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&te)for(var o of te(e))t.indexOf(o)<0&&Be.call(e,o)&&(n[o]=e[o]);return n};var I=(e,t,n)=>new Promise((o,s)=>{var r=c=>{try{u(n.next(c))}catch(i){s(i)}},a=c=>{try{u(n.throw(c))}catch(i){s(i)}},u=c=>c.done?o(c.value):Promise.resolve(c.value).then(r,a);u((n=n.apply(e,t)).next())});import{d as de,a as ne,l as lt,c as dt,M as _t,m as pt,b as ft,e as F,o as v,f as k,_ as ht,g as mt,h as L,i as E,t as W,F as _e,r as pe,j as l,u as gt,k as y,n as d,w as p,S as Pe,p as K,q,s as fe,B as he,v as vt,x as $e,y as yt,z as oe,A as bt,T as Et,C as xe,K as kt,I as Re,D as J,E as se,G as D,H as me,J as Me,L as Ct,N as re,O as St,P as Ft,Q as Tt,R as It,U as Ue,V as Ve,W as Lt,X as At,Y as wt,Z as Bt,$ as Dt,a0 as ge,a1 as qe,a2 as Ot,a3 as Pt,a4 as $t,a5 as xt,a6 as Rt,a7 as Mt,a8 as ze,a9 as Ut,aa as Vt,ab as qt,ac as zt,ad as jt,ae as Nt,af as Gt,ag as Ht,ah as Wt,ai as Kt,aj as Y,ak as Yt,al as Jt,am as Xt,an as Zt,ao as je,ap as Qt,aq as en,ar as tn,as as nn,at as on,au as sn,av as rn}from"./vendor.c7239947.js";const an=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};an();const un="light",cn=!1,ln=!0,dn=!0,_n=!1,pn=!1,fn=40,hn=!0,mn="#165DFF",gn=220,vn=!1,yn="desktop",bn=!0,En=!1;var kn={theme:un,colorWeek:cn,navbar:ln,menu:dn,hideMenu:_n,menuCollapse:pn,collapsedWidth:fn,footer:hn,themeColor:mn,menuWidth:gn,globalSettings:vn,device:yn,tabBar:bn,breadcrumb:En};const z=de("app",{state:()=>C({},kn),getters:{appCurrentSetting(e){return C({},e)},appDevice(e){return e.device}},actions:{updateSettings(e){this.$patch(e)},toggleTheme(e){e?(this.theme="dark",document.body.setAttribute("data-theme","dark")):(this.theme="light",document.body.removeAttribute("data-theme"))},toggleDevice(e){this.device=e},toggleMenu(e){this.hideMenu=e}}}),Cn=Object.prototype.toString;function Ne(e,t){return Cn.call(e)===`[object ${t}]`}function Ge(e){return e!==null&&Ne(e,"Object")}function j(e){return Ne(e,"String")}function $(e){return typeof e=="function"}function Sn(e){return e&&Array.isArray(e)}let V=new Map;const He=e=>[e.method,e.url].join("&");class Fn{addPending(t){this.removePending(t);const n=He(t);t.cancelToken=t.cancelToken||new ne.CancelToken(o=>{V.has(n)||V.set(n,o)})}removeAllPending(){V.forEach(t=>{t&&$(t)&&t()}),V.clear()}removePending(t){const n=He(t);if(V.has(n)){const o=V.get(n);o&&o(n),V.delete(n)}}reset(){V=new Map}}var ae;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR",e[e.TIMEOUT=401]="TIMEOUT",e.TYPE="success"})(ae||(ae={}));var ue;(function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"})(ue||(ue={}));var X;(function(e){e.JSON="application/json;charset=UTF-8",e.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",e.FORM_DATA="multipart/form-data;charset=UTF-8"})(X||(X={}));class Tn{constructor(t){this.options=t,this.axiosInstance=ne.create(t),this.setupInterceptors()}createAxios(t){this.axiosInstance=ne.create(t)}getTransform(){const{transform:t}=this.options;return t}getAxios(){return this.axiosInstance}configAxios(t){!this.axiosInstance||this.createAxios(t)}setHeader(t){!this.axiosInstance||Object.assign(this.axiosInstance.defaults.headers,t)}setupInterceptors(){const t=this.getTransform();if(!t)return;const{requestInterceptors:n,requestInterceptorsCatch:o,responseInterceptors:s,responseInterceptorsCatch:r}=t,a=new Fn;this.axiosInstance.interceptors.request.use(u=>{var m;const{headers:{ignoreCancelToken:c}}=u;return!(c!==void 0?c:(m=this.options.requestOptions)==null?void 0:m.ignoreCancelToken)&&a.addPending(u),n&&$(n)&&(u=n(u,this.options)),u},void 0),o&&$(o)&&this.axiosInstance.interceptors.request.use(void 0,o),this.axiosInstance.interceptors.response.use(u=>(u&&a.removePending(u.config),s&&$(s)&&(u=s(u)),u),void 0),r&&$(r)&&this.axiosInstance.interceptors.response.use(void 0,r)}uploadFile(t,n){const o=new window.FormData,s=n.name||"file";return n.filename?o.append(s,n.file,n.filename):o.append(s,n.file),n.data&&Object.keys(n.data).forEach(r=>{const a=n.data[r];if(Array.isArray(a)){a.forEach(u=>{o.append(`${r}[]`,u)});return}o.append(r,n.data[r])}),this.axiosInstance.request(U(C({},t),{method:"POST",data:o,headers:{"Content-type":X.FORM_DATA,ignoreCancelToken:!0}}))}supportFormData(t){var s;const n=t.headers||this.options.headers;return((n==null?void 0:n["Content-Type"])||(n==null?void 0:n["content-type"]))!==X.FORM_URLENCODED||!Reflect.has(t,"data")||((s=t.method)==null?void 0:s.toUpperCase())===ue.GET?t:U(C({},t),{data:lt.stringify(t.data,{arrayFormat:"brackets"})})}get(t,n){return this.request(U(C({},t),{method:"GET"}),n)}post(t,n){return this.request(U(C({},t),{method:"POST"}),n)}put(t,n){return this.request(U(C({},t),{method:"PUT"}),n)}delete(t,n){return this.request(U(C({},t),{method:"DELETE"}),n)}request(t,n){let o=dt(t);const s=this.getTransform(),{requestOptions:r}=this.options,a=Object.assign({},r,n),{beforeRequestHook:u,requestCatchHook:c,transformRequestHook:i}=s||{};return u&&$(u)&&(o=u(o,a)),o.requestOptions=a,o=this.supportFormData(o),new Promise((m,_)=>{this.axiosInstance.request(o).then(f=>{if(i&&$(i)){try{const g=i(f,a);m(g)}catch(g){_(g||new Error("request error!"))}return}m(f)}).catch(f=>{if(c&&$(c)){_(c(f,a));return}ne.isAxiosError(f),_(f)})})}}function In(e,t,n="message"){let o="";switch(e){case 400:o=`${t}`;break;case 401:o=t||"\u7528\u6237\u65E0\u6743\u9650";break;case 403:o="\u7528\u6237\u5F97\u5230\u6388\u6743\uFF0C\u4F46\u662F\u8BBF\u95EE\u662F\u88AB\u7981\u6B62\u7684\u3002!";break;case 404:o="\u7F51\u7EDC\u8BF7\u6C42\u9519\u8BEF,\u672A\u627E\u5230\u8BE5\u8D44\u6E90!";break;case 405:o="\u7F51\u7EDC\u8BF7\u6C42\u9519\u8BEF,\u8BF7\u6C42\u65B9\u6CD5\u672A\u5141\u8BB8!";break;case 408:o="\u7F51\u7EDC\u8BF7\u6C42\u8D85\u65F6!";break;case 500:o="\u670D\u52A1\u5668\u9519\u8BEF,\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458!";break;case 501:o="\u7F51\u7EDC\u672A\u5B9E\u73B0!";break;case 502:o="\u7F51\u7EDC\u9519\u8BEF!";break;case 503:o="\u670D\u52A1\u4E0D\u53EF\u7528\uFF0C\u670D\u52A1\u5668\u6682\u65F6\u8FC7\u8F7D\u6216\u7EF4\u62A4!";break;case 504:o="\u7F51\u7EDC\u8D85\u65F6!";break;case 505:o="http\u7248\u672C\u4E0D\u652F\u6301\u8BE5\u8BF7\u6C42!";break}o&&(n==="modal"?_t.error({title:"Confirm logout",content:"You have been logged out, you can cancel to stay on this page, or log in again",okText:"Re-Login",onOk(){return I(this,null,function*(){yield N().logout(),window.location.reload()})}}):n==="message"&&console.log(o))}function Ln(){const e={VITE_PUBLIC_PATH:"/",VITE_BUILD_COMPRESS:"none",VITE_GLOB_API_URL:"/basic-api",VITE_GLOB_UPLOAD_URL:"/upload",VITE_GLOB_API_URL_PREFIX:"",VITE_GLOB_APP_TITLE:"Vue Admin",VITE_GLOB_APP_SHORT_NAME:"vue_vite_ts_admin",VITE_USE_MOCK:"true",VITE_DROP_CONSOLE:"true",VITE_BUILD_COMPRESS_DELETE_ORIGIN_FILE:"false",VITE_USE_IMAGEMIN:"true",VITE_USE_PWA:"false",VITE_LEGACY:"false",VITE_PORT:"3100",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0},{VITE_GLOB_APP_TITLE:t,VITE_GLOB_API_URL:n,VITE_GLOB_APP_SHORT_NAME:o,VITE_GLOB_API_URL_PREFIX:s,VITE_GLOB_UPLOAD_URL:r}=e;return{VITE_GLOB_APP_TITLE:t,VITE_GLOB_API_URL:n,VITE_GLOB_APP_SHORT_NAME:o,VITE_GLOB_API_URL_PREFIX:s,VITE_GLOB_UPLOAD_URL:r}}const An=()=>{const{VITE_GLOB_APP_TITLE:e,VITE_GLOB_API_URL:t,VITE_GLOB_APP_SHORT_NAME:n,VITE_GLOB_API_URL_PREFIX:o,VITE_GLOB_UPLOAD_URL:s}=Ln();return{title:e,apiUrl:t,shortName:n,urlPrefix:o,uploadUrl:s}};function wn(e,t){let n="";for(const o in t)n+=o+"="+encodeURIComponent(t[o])+"&";return n=n.replace(/&$/,""),/\?$/.test(e)?e+n:e.replace(/\/?$/,"?")+n}function We(e={},t={}){let n;for(n in t)e[n]=Ge(e[n])?We(e[n],t[n]):e[n]=t[n];return e}const ie="x-admin_token",Bn=()=>!!localStorage.getItem(ie),Ke=()=>localStorage.getItem(ie)||"",Dn=e=>{localStorage.setItem(ie,e)},On=()=>{localStorage.removeItem(ie)},Pn="YYYY-MM-DD HH:mm:ss";function Ye(e,t=!1){if(!e)return t?"":{};const n=new Date().getTime();return t?`?_t=${n}`:{_t:n}}function ve(e){if(Object.prototype.toString.call(e)==="[object Object]")for(const t in e){if(e[t]&&e[t]._isAMomentObject&&(e[t]=e[t].format(Pn)),j(t)){const n=e[t];if(n)try{e[t]=j(n)?n.trim():n}catch(o){throw new Error("\u53C2\u6570\u9519\u8BEF")}}Ge(e[t])&&ve(e[t])}}const ye=An(),$n=ye.urlPrefix;console.log(ye);const xn={transformRequestHook:(e,t)=>{const{isTransformResponse:n,isReturnNativeResponse:o}=t;if(o)return e;if(!n)return e.data;const{data:s}=e;if(!s)throw new Error("\u8BF7\u6C42\u51FA\u9519\uFF0C\u8BF7\u7A0D\u5019\u91CD\u8BD5");const{code:r,result:a,message:u}=s;if(s&&Reflect.has(s,"code")&&r===ae.SUCCESS)return a;let i="";switch(r){case ae.TIMEOUT:i="\u63A5\u53E3\u8BF7\u6C42\u8D85\u65F6,\u8BF7\u5237\u65B0\u9875\u9762\u91CD\u8BD5!",N().logout();break;default:u&&(i=u)}if(t.errorMessageMode==="modal")debugger;else if(t.errorMessageMode==="message")debugger;throw new Error(i||"\u8BF7\u6C42\u51FA\u9519\uFF0C\u8BF7\u7A0D\u5019\u91CD\u8BD5")},beforeRequestHook:(e,t)=>{var m;const{apiUrl:n,joinPrefix:o,joinParamsToUrl:s,formatDate:r,joinTime:a=!0,urlPrefix:u}=t;o&&(e.url=`${u}${e.url}`),n&&j(n)&&(e.url=`${n}${e.url}`);const c=e.params||{},i=e.data||!1;return r&&i&&!j(i)&&ve(i),((m=e.method)==null?void 0:m.toUpperCase())===ue.GET?j(c)?(e.url=e.url+c+`${Ye(a,!0)}`,e.params=void 0):e.params=Object.assign(c||{},Ye(a,!1)):j(c)?(e.url=e.url+c,e.params=void 0):(r&&ve(c),Reflect.has(e,"data")&&e.data&&Object.keys(e.data).length>0?(e.data=i,e.params=c):(e.data=c,e.params=void 0),s&&(e.url=wn(e.url,Object.assign({},e.params,e.data)))),e},requestInterceptors:(e,t)=>{var o;const n=Ke();return n&&((o=e==null?void 0:e.requestOptions)==null?void 0:o.withToken)!==!1&&(e.headers.Authorization=t.authenticationScheme?`${t.authenticationScheme} ${n}`:n),e},responseInterceptors:e=>e,responseInterceptorsCatch:e=>{var i,m,_,f,g,h,T;const{response:t,code:n,message:o,config:s}=e||{},r=((i=s==null?void 0:s.requestOptions)==null?void 0:i.errorMessageMode)||"none",a=(f=(_=(m=t==null?void 0:t.data)==null?void 0:m.error)==null?void 0:_.message)!=null?f:"",u=(h=(g=e==null?void 0:e.toString)==null?void 0:g.call(e))!=null?h:"";let c="";try{if(n==="ECONNABORTED"&&o.indexOf("timeout")!==-1&&(c="\u63A5\u53E3\u8BF7\u6C42\u8D85\u65F6,\u8BF7\u5237\u65B0\u9875\u9762\u91CD\u8BD5!"),(u==null?void 0:u.includes("Network Error"))&&(c="\u7F51\u7EDC\u5F02\u5E38\uFF0C\u8BF7\u68C0\u67E5\u60A8\u7684\u7F51\u7EDC\u8FDE\u63A5\u662F\u5426\u6B63\u5E38!"),c)return r==="modal"?console.log(r,"errorMessageMode"):r==="message"&&console.log(r,"errorMessageMode error"),Promise.reject(e)}catch(b){throw new Error(b)}return In((T=e==null?void 0:e.response)==null?void 0:T.status,a,r),Promise.reject(e)}};function Rn(e){return new Tn(We({authenticationScheme:"",timeout:10*1e3,headers:{"Content-Type":X.JSON},transform:xn,requestOptions:{joinPrefix:!0,isReturnNativeResponse:!1,isTransformResponse:!0,joinParamsToUrl:!1,formatDate:!0,errorMessageMode:"message",apiUrl:ye.apiUrl,urlPrefix:$n,joinTime:!0,ignoreCancelToken:!0,withToken:!0}},e||{}))}const be=Rn();var Z;(function(e){e.Login="/login",e.Logout="/logout",e.GetUserInfo="/getUserInfo",e.GetPermCode="/getPermCode"})(Z||(Z={}));function Mn(e,t="modal"){return be.post({url:Z.Login,params:e},{errorMessageMode:t})}function Un(){return be.get({url:Z.GetUserInfo},{errorMessageMode:"none"})}function Vn(){return be.get({url:Z.Logout})}const Ee=pt(),ke=Symbol("ROUTE_CHANGE");let Ce;function qn(e){Ee.emit(ke,e),Ce=e}function Je(e,t=!0){Ee.on(ke,e),t&&Ce&&e(Ce)}function zn(){Ee.off(ke)}const N=de("user",{state:()=>({userInfo:null,token:void 0,role:"",lastUpdateTime:0}),getters:{getSysToken(){return this.token||Ke()}},actions:{setSysToken(e){this.token=e!=null?e:"",Dn(e)},setRoleList(e){this.role=e},switchRoles(){return new Promise(e=>{this.role=this.role==="admin"?"test":"admin",e(this.role)})},setUserInfo(e){this.userInfo=e,this.lastUpdateTime=new Date().getTime()},resetInfo(){this.$reset()},login(e){return I(this,null,function*(){try{const t=Oe(e,[]),n=yield Mn(t),{token:o}=n;return this.setSysToken(o),this.getUserInfo()}catch(t){return Promise.reject(t)}})},getUserInfo(){return I(this,null,function*(){if(!this.getSysToken)return null;const e=yield Un(),{roles:t=[]}=e;return Sn(t)&&t.length?this.setRoleList(t[0]):(e.roles=[],this.setRoleList("")),this.setUserInfo(e),e})},logout(){return I(this,null,function*(){yield Vn(),this.resetInfo(),On(),zn()})}}}),jn=e=>{const{name:t,meta:n,fullPath:o,query:s}=e;return{title:n.locale||"",name:String(t),fullPath:o,query:s}},Xe=de("tabBar",{state:()=>({cacheTabList:new Set,tagList:[{title:"\u5DE5\u4F5C\u53F0",name:"Workplace",fullPath:"/dashboard/workplace"}]}),getters:{getTabList(){return this.tagList},getCacheList(){return Array.from(this.cacheTabList)}},actions:{updateTabList(e){this.tagList.push(jn(e)),this.cacheTabList.add(e.name)},deleteTag(e,t){this.tagList.splice(e,1),this.cacheTabList.delete(t.name)}}}),Nn=ft(),Gn=F({props:{type:{type:String,default:""},name:{type:String,default:""},defaultValue:{type:[String,Boolean,Number],default:""}},emits:["inputChange"],setup(e,{emit:t}){const n=e,o=s=>{t("inputChange",{value:s,key:n.name})};return(s,r)=>{const a=ht,u=mt;return e.type==="number"?(v(),k(a,{key:0,style:{width:"80px"},size:"small",value:e.defaultValue,onChange:o},null,8,["value"])):(v(),k(u,{key:1,checked:e.defaultValue,size:"small",onChange:o},null,8,["checked"]))}}});var O=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n};const Hn={class:"block"},Wn={class:"title"},Kn=F({props:{title:{type:String,default:""},options:{type:Array,default(){return[]}}},setup(e){const t=z(),n=({key:o,value:s})=>{s&&o==="colorWeek"&&(document.body.style.filter="invert(80%)"),!s&&o==="colorWeek"&&(document.body.style.filter="none"),t.updateSettings({[o]:s})};return(o,s)=>(v(),L("div",Hn,[E("h5",Wn,W(e.title),1),(v(!0),L(_e,null,pe(e.options,r=>(v(),L("div",{key:r.name,class:"switch-wrapper"},[E("span",null,W(r.name),1),l(Gn,{type:r.type||"switch",name:r.key,"default-value":r.defaultVal,onInputChange:n},null,8,["type","name","default-value"])]))),128))]))}});var Ze=O(Kn,[["__scopeId","data-v-4d14eba0"]]);const Yn=q("\u9875\u9762\u914D\u7F6E"),Jn=q("\u5173\u95ED"),Xn=q("\u590D\u5236\u914D\u7F6E"),Zn=F({emits:["cancel"],setup(e,{emit:t}){const n=z(),{copy:o}=gt(),s=y(()=>n.globalSettings),r=y(()=>[{name:"\u5BFC\u822A\u680F",key:"navbar",defaultVal:n.navbar},{name:"\u83DC\u5355\u680F",key:"menu",defaultVal:n.menu},{name:"\u5E95\u90E8",key:"footer",defaultVal:n.footer},{name:"\u591A\u9875\u7B7E",key:"tabBar",defaultVal:n.tabBar},{name:"\u663E\u793A Breadcrumbs",key:"breadcrumb",defaultVal:n.breadcrumb},{name:"\u83DC\u5355\u5BBD\u5EA6 (px)",key:"menuWidth",defaultVal:n.menuWidth,type:"number"}]),a=y(()=>[{name:"\u8272\u5F31\u6A21\u5F0F",key:"colorWeek",defaultVal:n.colorWeek}]),u=()=>{n.updateSettings({globalSettings:!1}),t("cancel")},c=()=>I(this,null,function*(){const m=JSON.stringify(n.$state,null,2);yield o(m),fe.success("\u590D\u5236\u6210\u529F\uFF0C\u8BF7\u7C98\u8D34\u5230 src/settings.json \u6587\u4EF6\u4E2D")}),i=()=>{n.updateSettings({globalSettings:!0})};return(m,_)=>{const f=he,g=vt,h=$e,T=yt;return v(),L(_e,null,[d(n).navbar?K("",!0):(v(),L("div",{key:0,class:"fixed-settings",onClick:i},[l(f,{type:"primary"},{icon:p(()=>[l(d(Pe))]),_:1})])),l(T,{width:300,visible:d(s),onClose:u,"footer-style":{textAlign:"right"}},{title:p(()=>[Yn]),footer:p(()=>[l(h,null,{default:p(()=>[l(f,{onClick:u},{default:p(()=>[Jn]),_:1}),l(f,{type:"primary",onClick:c},{default:p(()=>[Xn]),_:1})]),_:1})]),default:p(()=>[l(Ze,{options:d(r),title:"\u5185\u5BB9\u533A\u57DF"},null,8,["options"]),l(Ze,{options:d(a),title:"\u5176\u4ED6\u8BBE\u7F6E"},null,8,["options"]),l(g,{message:"\u914D\u7F6E\u4E4B\u540E\u4EC5\u662F\u4E34\u65F6\u751F\u6548\uFF0C\u8981\u60F3\u771F\u6B63\u4F5C\u7528\u4E8E\u9879\u76EE\uFF0C\u70B9\u51FB\u4E0B\u65B9\u7684 '\u590D\u5236\u914D\u7F6E' \u6309\u94AE\uFF0C\u5C06\u914D\u7F6E\u66FF\u6362\u5230 settings.json \u4E2D\u5373\u53EF\u3002",type:"info","show-icon":""})]),_:1},8,["visible"])],64)}}});var Qn=O(Zn,[["__scopeId","data-v-5cd07d52"]]);const eo=F({setup(e){return(t,n)=>{const o=oe("router-view"),s=bt;return v(),k(s,null,{default:p(()=>[l(o),l(Qn)]),_:1})}}});const to=F({setup(e){const t=Xe(),n=y(()=>t.getCacheList);return(o,s)=>{const r=oe("router-view");return v(),k(r,null,{default:p(()=>[l(r,null,{default:p(({Component:a,route:u})=>[l(Et,{name:"fade",mode:"out-in",appear:""},{default:p(()=>[u.meta.ignoreCache?(v(),k(xe(a),{key:u.fullPath})):(v(),k(kt,{key:1,include:d(n)},[(v(),k(xe(a),{key:u.fullPath}))],1032,["include"]))]),_:2},1024)]),_:1})]),_:1})}}}),Qe=Re.default||Re,no=JSON.parse('[{"prefix":"el","width":1200,"height":1200,"icons":{}},{"prefix":"ion","width":512,"height":512,"icons":{}},{"prefix":"ri","width":24,"height":24,"icons":{"moon-fill":{"body":"<path fill=\\"currentColor\\" d=\\"M11.38 2.019a7.5 7.5 0 1 0 10.6 10.6C21.662 17.854 17.316 22 12.001 22C6.477 22 2 17.523 2 12c0-5.315 4.146-9.661 9.38-9.981z\\"/>"},"sun-fill":{"body":"<path fill=\\"currentColor\\" d=\\"M12 18a6 6 0 1 1 0-12a6 6 0 0 1 0 12zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636L5.636 7.05L3.515 4.93zM16.95 18.364l1.414-1.414l2.121 2.121l-1.414 1.414l-2.121-2.121zm2.121-14.85l1.414 1.415l-2.121 2.121l-1.414-1.414l2.121-2.121zM5.636 16.95l1.414 1.414l-2.121 2.121l-1.414-1.414l2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z\\"/>"}}},{"prefix":"mi","width":24,"height":24,"icons":{"notification":{"body":"<path fill=\\"currentColor\\" d=\\"M10.146 3.248a2 2 0 0 1 3.708 0A7.003 7.003 0 0 1 19 10v4.697l1.832 2.748A1 1 0 0 1 20 19h-4.535a3.501 3.501 0 0 1-6.93 0H4a1 1 0 0 1-.832-1.555L5 14.697V10c0-3.224 2.18-5.94 5.146-6.752zM10.586 19a1.5 1.5 0 0 0 2.829 0h-2.83zM12 5a5 5 0 0 0-5 5v5a1 1 0 0 1-.168.555L5.869 17H18.13l-.963-1.445A1 1 0 0 1 17 15v-5a5 5 0 0 0-5-5z\\"/>"}}},{"prefix":"ic","width":24,"height":24,"icons":{"outline-close":{"body":"<path fill=\\"currentColor\\" d=\\"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z\\"/>"}}},{"prefix":"mdi","width":24,"height":24,"icons":{"monitor-dashboard":{"body":"<path fill=\\"currentColor\\" d=\\"M21 16V4H3v12h18m0-14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-7v2h2v2H8v-2h2v-2H3a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2h18M5 6h9v5H5V6m10 0h4v2h-4V6m4 3v5h-4V9h4M5 12h4v2H5v-2m5 0h4v2h-4v-2Z\\"/>"}}},{"prefix":"ant-design","width":1024,"height":1024,"icons":{"check-circle-outlined":{"body":"<path fill=\\"currentColor\\" d=\\"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0 0 51.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z\\"/><path fill=\\"currentColor\\" d=\\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448s448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372s372 166.6 372 372s-166.6 372-372 372z\\"/>"}}}]');no.forEach(e=>Qe.addCollection(e));const oo=["xlink:href"],so=F({props:{prefix:{type:String,default:"icon"},name:{type:String,required:!0},size:{type:[Number,String],default:16},spin:{type:Boolean,default:!1}},setup(e){const t=e,n=y(()=>`#${t.prefix}-${t.name}`),o=y(()=>{const{size:s}=t;let r=`${s}`;return r=`${r.replace("px","")}px`,{width:r,height:r}});return(s,r)=>(v(),L("svg",{class:J([s.$attrs.class,e.spin&&"svg-icon-spin"]),style:se(d(o)),"aria-hidden":"true"},[E("use",{"xlink:href":d(n)},null,8,oo)],6))}});var ro=O(so,[["__scopeId","data-v-8753253a"]]);const Q=F({props:{icon:{type:String,default:""},color:{type:String,default:""},size:{type:[String,Number],default:16},spin:{type:Boolean,default:!1},prefix:{type:String,default:""}},setup(e){const t=e,n="|svg",o=D(null),s=y(()=>{var i;return(i=t.icon)==null?void 0:i.endsWith(n)}),r=y(()=>t.icon.replace(n,"")),a=y(()=>`${t.prefix?t.prefix+":":""}${t.icon}`),u=()=>I(this,null,function*(){if(d(s))return;const i=d(o);if(!i)return;yield Ct();const m=d(a);if(!m)return;const _=Qe.renderSVG(m,{});if(_)i.textContent="",i.appendChild(_);else{const f=document.createElement("span");f.className="iconify",f.dataset.icon=m,i.textContent="",i.appendChild(f)}}),c=y(()=>{const{size:i,color:m}=t;let _=i;return j(i)&&(_=parseInt(i,10)),{fontSize:`${_}px`,color:m,display:"inline-flex"}});return me(()=>t.icon,u,{flush:"post"}),Me(u),(i,m)=>d(s)?(v(),k(ro,{key:0,size:e.size,name:d(r),class:J([i.$attrs.class,"anticon"]),spin:e.spin},null,8,["size","name","class","spin"])):(v(),L("span",{key:1,ref_key:"elRef",ref:o,class:J([i.$attrs.class,"app-iconify anticon",e.spin&&"app-iconify-spin"]),style:se(d(c))},null,6))}});function ao(){const e=re(),t=N();return{logout:o=>I(this,null,function*(){yield t.logout();const s=e.currentRoute.value;fe.success("\u767B\u51FA\u6210\u529F"),e.push({name:o&&typeof o=="string"?o:"login",query:U(C({},e.currentRoute.value.query),{redirect:s.name})})})}}const Se=e=>(Ue("data-v-b21c6fee"),e=e(),Ve(),e),uo={class:"navbar"},io={class:"left-side"},co=Se(()=>E("img",{alt:"logo",src:"//p3-armor.byteimg.com/tos-cn-i-49unhts6dw/dfdba5317c0c20ce20e64fac803d52bc.svg~tplv-49unhts6dw-image.image"},null,-1)),lo=q("Vue3 admin"),_o={class:"right-side"},po={class:"message-box-trigger"},fo=["src"],ho=Se(()=>E("span",null,"\u5207\u6362\u89D2\u8272",-1)),mo=Se(()=>E("span",null,"\u9000\u51FA\u767B\u5F55",-1)),go=F({setup(e){const t=z(),n=N(),{logout:o}=ao(),s=y(()=>{var g;return((g=n.userInfo)==null?void 0:g.avatar)||"https://joeschmoe.io/api/v1/random"}),r=y(()=>t.theme),a=St({selector:"body",attribute:"data-theme",valueDark:"dark",valueLight:"light",storageKey:"data-theme",onChanged(g){t.toggleTheme(g)}}),u=Ft(a),c=()=>{t.updateSettings({globalSettings:!0})},i=D(),m=()=>{const g=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});i.value.dispatchEvent(g)},_=()=>{o()},f=()=>I(this,null,function*(){const g=yield n.switchRoles();fe.success(g)});return(g,h)=>{const T=Lt,b=$e,A=he,S=At,w=wt,P=Bt,H=Dt,B=ge,R=qe,M=Ot;return v(),L("div",uo,[E("div",io,[l(b,null,{default:p(()=>[co,l(T,{style:{margin:0,fontSize:"18px"},heading:5},{default:p(()=>[lo]),_:1})]),_:1})]),E("ul",_o,[E("li",null,[l(S,{content:d(r)==="light"?"\u70B9\u51FB\u5207\u6362\u4E3A\u6697\u9ED1\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u4E3A\u4EAE\u8272\u6A21\u5F0F"},{default:p(()=>[l(A,{class:"nav-btn",type:"outline",shape:"circle",onClick:d(u)},{icon:p(()=>[d(r)==="dark"?(v(),k(d(Q),{key:0,icon:"ri:moon-fill"})):(v(),k(d(Q),{key:1,icon:"ri:sun-fill"}))]),_:1},8,["onClick"])]),_:1},8,["content"])]),E("li",null,[l(S,{content:"\u6D88\u606F\u901A\u77E5"},{default:p(()=>[E("div",po,[l(w,{count:9,dot:""},{default:p(()=>[l(A,{class:"nav-btn",type:"outline",shape:"circle",onClick:m},{icon:p(()=>[l(d(Q),{icon:"mi:notification"})]),_:1})]),_:1})])]),_:1}),l(P,{trigger:"click","arrow-style":{display:"none"},"content-style":{padding:0,minWidth:"400px"},"content-class":"message-popover"},{content:p(()=>[]),default:p(()=>[E("div",{ref_key:"refBtn",ref:i,class:"ref-btn"},null,512)]),_:1})]),E("li",null,[l(S,{content:"\u9875\u9762\u914D\u7F6E"},{default:p(()=>[l(A,{class:"nav-btn",type:"outline",shape:"circle",onClick:c},{icon:p(()=>[l(d(Pe))]),_:1})]),_:1})]),E("li",null,[l(M,{trigger:["click"]},{overlay:p(()=>[l(R,null,{default:p(()=>[l(B,{key:"0"},{default:p(()=>[l(b,{onClick:f},{default:p(()=>[l(d(Tt)),ho]),_:1})]),_:1}),l(B,{key:"1"},{default:p(()=>[l(b,{onClick:_},{default:p(()=>[l(d(It)),mo]),_:1})]),_:1})]),_:1})]),default:p(()=>[l(H,{size:32,style:{marginRight:"8px",cursor:"pointer"}},{default:p(()=>[E("img",{alt:"avatar",src:d(s)},null,8,fo)]),_:1})]),_:1})])])])}}});var vo=O(go,[["__scopeId","data-v-b21c6fee"]]);function Fe(){const e=N();return{accessRouter(t){var n,o,s,r,a,u;return!((n=t.meta)==null?void 0:n.requiresAuth)||!((o=t.meta)==null?void 0:o.roles)||((r=(s=t.meta)==null?void 0:s.roles)==null?void 0:r.includes("*"))||((u=(a=t.meta)==null?void 0:a.roles)==null?void 0:u.includes(e.role))},findFirstPermissionRoute(t,n="admin"){var s,r;const o=[...t];for(;o.length;){const a=o.shift();if((r=(s=a==null?void 0:a.meta)==null?void 0:s.roles)==null?void 0:r.find(u=>u.includes("*")||u.includes(n)))return{name:a.name};(a==null?void 0:a.children)&&o.push(...a.children)}return null}}}function yo(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Pt(e)}var bo=F({emit:["collapse"],setup(){const e=z(),t=Fe(),n=re(),o=y({get(){return e.device==="desktop"?e.menuCollapse:!1},set(_){e.updateSettings({menuCollapse:_})}}),s=y(()=>n.getRoutes().find(_=>_.name==="root")),r=y(()=>{const _=JSON.parse(JSON.stringify(s.value.children));_.sort((g,h)=>(g.meta.order||0)-(h.meta.order||0));function f(g,h){return g?g.map(b=>{var S;if(!t.accessRouter(b))return null;if(!b.children)return b;b.children=b.children.filter(w=>{var P;return((P=w.meta)==null?void 0:P.hideInMenu)!==!0});const A=f(b.children,h);return A.length||h>1?(b.children=A,b):((S=b.meta)==null?void 0:S.hideInMenu)===!1?b:null}).filter(Boolean):null}return f(_,0)}),a=D([]),u=D([]),c=_=>{n.push({name:_.name})};Je(_=>{var f,g;if(_.meta.requiresAuth&&!_.meta.hideInMenu){const h=(f=_.matched[2])==null?void 0:f.name;a.value=[h];const T=(g=_.matched[1])==null?void 0:g.name;u.value=[T]}},!0);const i=_=>{e.device==="desktop"&&e.updateSettings({menuCollapse:_})},m=()=>{function _(f,g=[]){return f&&f.forEach(h=>{var P,H,B;const T=((P=h==null?void 0:h.meta)==null?void 0:P.icon)?l(Q,{icon:(H=h==null?void 0:h.meta)==null?void 0:H.icon},null):"",b={icon:()=>T},A=l($t,{key:h==null?void 0:h.name,title:(B=h==null?void 0:h.meta)==null?void 0:B.locale},C({default:()=>{var R;return[(R=h==null?void 0:h.children)==null?void 0:R.map(M=>l(ge,{key:M.name,onClick:()=>c(M)},{default:()=>{var Le,Ae;return[((Le=M==null?void 0:M.meta)==null?void 0:Le.locale)||"",_((Ae=M.children)!=null?Ae:[])]}}))]}},b)),S=l(ge,{key:h==null?void 0:h.name,onClick:()=>c(h)},C({default:()=>{var R;return[((R=h==null?void 0:h.meta)==null?void 0:R.locale)||""]}},b)),w=(h==null?void 0:h.children)?A:S;g.push(w)}),g}return _(r.value)};return()=>{let _;return l(qe,{collapsed:o.value,"onUpdate:collapsed":f=>o.value=f,"show-collapse-button":e.device!=="mobile",selectedKeys:a.value,"onUpdate:selectedKeys":f=>a.value=f,style:"height: 100%",onCollapse:i,mode:"inline","open-keys":u.value,"onUpdate:open-keys":f=>u.value=f},yo(_=m())?_:{default:()=>[_]})}}});const Eo={},ko=q("Ant Design Vue Admin \xA92022 Created by LenGxin");function Co(e,t){const n=xt;return v(),k(n,{class:"footer"},{default:p(()=>[ko]),_:1})}var So=O(Eo,[["render",Co],["__scopeId","data-v-c0cdfc96"]]);const Fo=e=>(Ue("data-v-53d28e5a"),e=e(),Ve(),e),To={class:"tab-bar-container"},Io={class:"tab-bar-box"},Lo={class:"tab-bar-scroll"},Ao={class:"tags-wrap"},wo=["onClick"],Bo={class:"tag-link"},Do=["onClick"],Oo=Fo(()=>E("div",{class:"tag-bar-operation"},null,-1)),Po=F({setup(e){const t=z(),n=Xe(),o=re(),s=D(),r=y(()=>n.getTabList),a=y(()=>t.navbar?60:0);me(()=>t.navbar,()=>{s.value.updatePosition()}),Je(i=>{!i.meta.noAffix&&!r.value.some(m=>m.fullPath===i.fullPath)&&n.updateTabList(i)},!0);const u=(i,m)=>{if(n.deleteTag(m,i),m===r.value.length){const _=r.value[r.value.length-1];o.push({name:_.name})}},c=i=>{o.push(C({},i))};return(i,m)=>{const _=Mt;return v(),L("div",To,[l(_,{ref_key:"affixRef",ref:s,"offset-top":d(a)},{default:p(()=>[E("div",Io,[E("div",Lo,[E("div",Ao,[(v(!0),L(_e,null,pe(d(r),(f,g)=>(v(),L("span",{key:f.fullPath,class:J(["ant-tag ant-tag-checked",{"link-actived":f.fullPath===i.$route.fullPath}]),onClick:h=>c(f)},[E("span",Bo,W(f.title),1),E("span",{class:"ant-icon-hover ant-tag-icon-hover ant-icon-hover-size-medium ant-tag-close-btn",onClick:Rt(h=>u(f,g),["stop"])},[l(d(Q),{icon:"ic:outline-close",size:"14"})],8,Do)],10,wo))),128))])]),Oo])]),_:1},8,["offset-top"])])}}});var $o=O(Po,[["__scopeId","data-v-53d28e5a"]]);const xo={key:0},Ro=F({setup(e){const t=ze(),n=y(()=>{const o=t.path.split("/");return o.shift(),o.reduce((r,a,u)=>(r.push({path:a,to:r[u-1]?`/${r[u-1].path}/${a}`:`/${a}`,title:t.matched[u+1].meta.locale||a}),r),[])});return(o,s)=>{const r=oe("router-link"),a=Ut;return v(),k(a,{class:"td-breadcrumb",routes:d(n)},{itemRender:p(({route:u,paths:c})=>[d(n).indexOf(u)===d(n).length-1?(v(),L("span",xo,W(u.title),1)):(v(),k(r,{key:1,to:`${c.length>1?`${c.join("/")}`:""}`},{default:p(()=>[q(W(u.title),1)]),_:2},1032,["to"]))]),_:1},8,["routes"])}}});var Mo=O(Ro,[["__scopeId","data-v-004033b3"]]);function Uo(e,t,n,o=!1){e.addEventListener&&typeof e.addEventListener=="function"&&e.addEventListener(t,n,o)}function Vo(e,t,n,o=!1){e.removeEventListener&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n,o)}const qo=992;function zo(){return document.body.getBoundingClientRect().width-1<qo}function jo(e){const t=z();function n(){if(!document.hidden){const s=zo();t.toggleDevice(s?"mobile":"desktop"),t.toggleMenu(s)}}const o=zt(n,100);Me(()=>{e&&o()}),Vt(()=>{Uo(window,"resize",o)}),qt(()=>{Vo(window,"resize",o)})}const No={key:0,class:"layout-navbar"},Go=F({setup(e){const t=z(),n=N(),o=re(),s=ze(),r=Fe();jo(!0);const a="60px",u=y(()=>t.navbar),c=y(()=>t.menu),i=y(()=>t.hideMenu),m=y(()=>t.footer),_=y(()=>t.menuCollapse?48:t.menuWidth),f=y(()=>t.theme),g=y(()=>t.menuCollapse),h=y(()=>t.breadcrumb),T=y(()=>{const S=c.value&&!i.value?{paddingLeft:`${_.value}px`}:{},w=u.value?{paddingTop:a}:{};return C(C({},S),w)}),b=S=>{t.updateSettings({menuCollapse:S})};me(()=>n.role,S=>{S&&!r.accessRouter(s)&&o.push({name:"notFound"})});const A=D([]);return(S,w)=>{const P=Wt,H=Kt,B=jt;return v(),k(B,{class:J(["layout",{mobile:d(t).hideMenu}])},{default:p(()=>[d(u)?(v(),L("div",No,[l(vo)])):K("",!0),l(B,null,{default:p(()=>[l(B,null,{default:p(()=>[d(c)?Nt((v(),k(P,{key:0,class:"layout-sider",breakpoint:"xl",collapsed:d(g),collapsible:"",width:d(_),"collapsed-width":"50",theme:d(f),style:se({paddingTop:d(u)?"60px":""}),trigger:null,onCollapse:b},{default:p(()=>[l(bo),l(d(Ht),{onClick:w[0]||(w[0]=R=>b(!d(g))),class:"trigger-collapse"})]),_:1},8,["collapsed","width","theme","style"])),[[Gt,!d(i)]]):K("",!0),l(B,{class:"layout-content",style:se(d(T))},{default:p(()=>[d(t).tabBar?(v(),k($o,{key:0})):K("",!0),l(H,null,{default:p(()=>[d(h)?(v(),k(Mo,{key:0,items:A.value},null,8,["items"])):K("",!0),l(to)]),_:1}),d(m)?(v(),k(So,{key:1})):K("",!0)]),_:1},8,["style"])]),_:1})]),_:1})]),_:1},8,["class"])}}});var Ho=O(Go,[["__scopeId","data-v-ca4aecac"]]);const Wo="modulepreload",et={},Ko="/",x=function(t,n){return!n||n.length===0?t():Promise.all(n.map(o=>{if(o=`${Ko}${o}`,o in et)return;et[o]=!0;const s=o.endsWith(".css"),r=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${r}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":Wo,s||(a.as="script",a.crossOrigin=""),a.href=o,document.head.appendChild(a),s)return new Promise((u,c)=>{a.addEventListener("load",u),a.addEventListener("error",c)})})).then(()=>t())};var Yo={path:"dashboard",name:"Dashboard",component:()=>x(()=>import("./index.b55cd93b.js"),["assets/index.b55cd93b.js","assets/index.7f8ee78a.css","assets/index.a18cc309.css","assets/vendor.c7239947.js","assets/vendor.0fcec1a5.css"]),meta:{locale:"\u4EEA\u8868\u76D8",icon:"mdi:monitor-dashboard",requiresAuth:!0,roles:["*"]},children:[{path:"workplace",name:"Workplace",component:()=>x(()=>import("./index.b55cd93b.js"),["assets/index.b55cd93b.js","assets/index.7f8ee78a.css","assets/index.a18cc309.css","assets/vendor.c7239947.js","assets/vendor.0fcec1a5.css"]),meta:{locale:"\u5DE5\u4F5C\u53F0",requiresAuth:!0,roles:["*"]}}]},Jo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Yo}),tt={path:"/login",name:"login",component:()=>x(()=>import("./index.7152b4f6.js"),["assets/index.7152b4f6.js","assets/index.a7c903cb.css","assets/index.a18cc309.css","assets/vendor.c7239947.js","assets/vendor.0fcec1a5.css"]),meta:{requiresAuth:!1}},Xo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:tt}),Zo={path:"result",name:"result",component:()=>x(()=>import("./index.a2f3b7dc.js"),["assets/index.a2f3b7dc.js","assets/vendor.c7239947.js","assets/vendor.0fcec1a5.css"]),meta:{locale:"\u7ED3\u679C\u9875",requiresAuth:!0,icon:"ant-design:check-circle-outlined",order:6},children:[{path:"403",name:"403",component:()=>x(()=>import("./index.dc4f176f.js"),["assets/index.dc4f176f.js","assets/index.28875de8.css","assets/index.f3516be5.css","assets/vendor.c7239947.js","assets/vendor.0fcec1a5.css"]),meta:{locale:"403",requiresAuth:!0,roles:["admin"]}},{path:"404",name:"404",component:()=>x(()=>import("./index.57d763f0.js"),["assets/index.57d763f0.js","assets/index.47d6519b.css","assets/index.f3516be5.css","assets/vendor.c7239947.js","assets/vendor.0fcec1a5.css"]),meta:{locale:"404",requiresAuth:!0,roles:["*"]}},{path:"500",name:"500",component:()=>x(()=>import("./index.649da652.js"),["assets/index.649da652.js","assets/index.5f201680.css","assets/index.f3516be5.css","assets/vendor.c7239947.js","assets/vendor.0fcec1a5.css"]),meta:{locale:"500",requiresAuth:!0,roles:["*"]}},{path:"success",name:"Success",component:()=>x(()=>import("./index.5600e195.js"),["assets/index.5600e195.js","assets/index.f3516be5.css","assets/vendor.c7239947.js","assets/vendor.0fcec1a5.css"]),meta:{locale:"\u6210\u529F\u9875",requiresAuth:!0,roles:["*"]}},{path:"fail",name:"Fail",component:()=>x(()=>import("./index.8214e92a.js"),["assets/index.8214e92a.js","assets/index.d7bb1536.css","assets/index.f3516be5.css","assets/vendor.c7239947.js","assets/vendor.0fcec1a5.css"]),meta:{locale:"\u5931\u8D25\u9875",requiresAuth:!0,roles:["*"]}}]},Qo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zo});const nt={"./modules/dashboard.ts":Jo,"./modules/login.ts":Xo,"./modules/result.ts":Qo},Te=[];Object.keys(nt).forEach(e=>{const t=nt[e].default;if(!t||t.name==="login")return;const n=Array.isArray(t)?[...t]:[t];Te.push(...n)});function es(e){e.beforeEach((t,n,o)=>I(this,null,function*(){Y.start();const s=N();function r(){return I(this,null,function*(){const a=Fe();if(a.accessRouter(t))o();else{const u=a.findFirstPermissionRoute(Te,s.role)||{name:"notFound"};o(u)}Y.done()})}if(Bn())if(s.role)r();else try{yield s.getUserInfo(),r()}catch(a){o({name:"login",query:C({redirect:t.name},t.query)}),Y.done()}else{if(t.name==="login"){o(),Y.done();return}o({name:"login",query:C({redirect:t.name},t.query)}),Y.done()}}))}function ts(e){e.beforeEach(t=>I(this,null,function*(){qn(t)}))}function ns(e){ts(e),es(e)}Y.configure({showSpinner:!1});const ot=Yt({history:Jt(),routes:[{path:"/",redirect:"login"},tt,{name:"root",path:"/",component:Ho,children:Te},{path:"/:pathMatch(.*)*",name:"notFound",redirect:"/exception/404"}],scrollBehavior(){return{top:0}}});ns(ot);if(typeof window!="undefined"){let e=function(){var t=document.body,n=document.getElementById("__svg__icons__dom__");n||(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),n.style.position="absolute",n.style.width="0",n.style.height="0",n.id="__svg__icons__dom__",n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),n.innerHTML="",t.insertBefore(n,t.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}function os(e){const t=D(e),n=D(!1);let o;function s(){o&&window.clearInterval(o)}function r(){n.value=!1,s(),o=null}function a(){d(n)||!!o||(n.value=!0,o=setInterval(()=>{d(t)===1?(r(),t.value=e):t.value-=1},1e3))}function u(){t.value=e,r()}function c(){u(),a()}return Xt(()=>{u()}),{start:a,reset:u,restart:c,clear:s,stop:r,currentCount:t,isStart:n}}const ss={count:{type:Number,default:60},beforeStartFunc:{type:Function,default:null}},rs=F({name:"CountButton",props:ss,setup(e){const t=D(!1),{currentCount:n,isStart:o,start:s,reset:r}=os(e.count),a=y(()=>d(o)?`${d(n)}\u79D2\u540E\u91CD\u65B0\u83B7\u53D6`:"\u83B7\u53D6\u9A8C\u8BC1\u7801");Zt(()=>{e.count===0&&r()});function u(){return I(this,null,function*(){const{beforeStartFunc:c}=e;if(c&&$(c)){t.value=!0;try{(yield c())&&s()}finally{t.value=!1}}else s()})}return{handleStart:u,currentCount:n,loading:t,getButtonText:a,isStart:o}}});function as(e,t,n,o,s,r){const a=he;return v(),k(a,je(e.$attrs,{disabled:e.isStart,onClick:e.handleStart,loading:e.loading}),{default:p(()=>[q(W(e.getButtonText),1)]),_:1},16,["disabled","onClick","loading"])}var us=O(rs,[["render",as]]);const is={size:{type:String,validator:e=>["default","large","small"].includes(e)},count:{type:Number,default:60},sendCodeApi:{type:Function,default:null}},cs=F({name:"CountDownInput",components:{CountButton:us},inheritAttrs:!1,props:is,setup(e,{emit:t}){const n=D("vAdmin-countdown-input");return t("input",e.count),{prefixCls:n}}});function ls(e,t,n,o,s,r){const a=oe("CountButton"),u=en;return v(),k(u,je(e.$attrs,{class:e.prefixCls,size:e.size}),Qt({addonAfter:p(()=>[l(a,{size:e.size,count:e.count,beforeStartFunc:e.sendCodeApi},null,8,["size","count","beforeStartFunc"])]),_:2},[pe(Object.keys(e.$slots).filter(c=>c!=="addonAfter"),c=>({name:c,fn:p(i=>[tn(e.$slots,c,nn(on(i||{})))])}))]),1040,["class","size"])}var st=O(cs,[["render",ls]]);const ds=[st];function _s(e){ds.forEach(t=>{e.component((t==null?void 0:t.name)||(t==null?void 0:t.displayName),t)}),e.component("CountdownInput",st)}function ce(e,{message:t="ok"}={}){return{code:0,result:e,message:t,type:"success"}}function G(e="Request failed",{code:t=-1,result:n=null}={}){return{code:t,result:n,message:e,type:"error"}}function Ie({headers:e}){return e==null?void 0:e.authorization}function ee(){return[{userId:"1",username:"admin",realName:"Super Admin",avatar:"https://q1.qlogo.cn/g?b=qq&nk=190848757&s=640",desc:"manager",password:"123456",token:"fakeToken1",homePath:"/dashboard",roles:["admin"]},{userId:"2",username:"test",password:"123456",realName:"test user",avatar:"https://q1.qlogo.cn/g?b=qq&nk=339449197&s=640",desc:"tester",token:"fakeToken2",homePath:"/dashboard",roles:["test"]}]}const ps={"1":["1000","3000","5000"],"2":["2000","4000","6000"]};var fs=[{url:"/basic-api/login",timeout:200,method:"post",response:({body:e})=>{const{username:t,password:n}=e,o=ee().find(m=>m.username===t&&n===m.password);if(!o)return G("Incorrect account or password\uFF01");const{userId:s,username:r,token:a,realName:u,desc:c,roles:i}=o;return ce({roles:i,userId:s,username:r,token:a,realName:u,desc:c})}},{url:"/basic-api/getUserInfo",method:"get",response:e=>{const t=Ie(e);if(!t)return G("Invalid token");const n=ee().find(o=>o.token===t);return n?ce(n):G("The corresponding user information was not obtained!")}},{url:"/basic-api/getPermCode",timeout:200,method:"get",response:e=>{const t=Ie(e);if(!t)return G("Invalid token");const n=ee().find(s=>s.token===t);if(!n)return G("Invalid token!");const o=ps[n.userId];return ce(o)}},{url:"/basic-api/logout",timeout:200,method:"get",response:e=>{const t=Ie(e);return t?ee().find(o=>o.token===t)?ce(void 0,{message:"Token has been destroyed"}):G("Invalid token!"):G("Invalid token")}}],hs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",createFakeUserList:ee,default:fs});const rt={"./modules/user.ts":hs},at=[];Object.keys(rt).forEach(e=>{e.includes("/_")||at.push(...rt[e].default)});function ms(){sn(at)}const le=rn(eo);_s(le);le.use(ot);le.use(Nn);le.mount("#app");ms();export{st as C,So as F,O as _,N as u};
